(()=>{"use strict";var e,t={55020:(e,t,n)=>{n(35202);var r=n(99196),a=n.n(r),l=n(20745),i=n(17569),o=n(8636),s=n(9818),c=n(88767),u=n(20938),m=n(4942);const d=window._MASTERIYO_;function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={addons:d.addons},E=(0,s.createReduxStore)("addOns",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_ADDONS"===t.type?{addons:e.addons.map((function(e){return e.slug===t.slug?p(p({},e),{},{active:t.status}):e}))}:e},actions:{updateAddons:function(e,t){return{type:"UPDATE_ADDONS",slug:e,status:t}}},selectors:{getAddons:function(e){return e.addons}}}),y=n(52898),v=n(89674),h=n(72287),_=n(70885);const b=window.wp.date;var w=n(65736),x=n(69695),C=n.n(x),S=n(50015);function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,l=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw l}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){return Object.prototype.toString.call(e)},I=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===z(e)},P=function(e){return"[object Object]"===z(e)},N=function(e){return"[object Number]"===z(e)},j=function(e){return"[object Null]"===z(e)},A=function(e){try{return void 0===e}catch(e){if(e instanceof ReferenceError)return!0;throw e}},T=function(e){return A(e)||j(e)||function(e){return"[object String]"===z(e)}(e)&&0===e.length||I(e)&&0===e.length||P(e)&&0===Object.keys(e).length};function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length)return e;var a=n.shift();if(P(e)&&P(a))for(var l in a)P(a[l])?(e[l]||Object.assign(e,(0,m.Z)({},l,{})),D(e[l],a[l])):Object.assign(e,(0,m.Z)({},l,a[l]));return D.apply(void 0,[e].concat(n))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new WeakMap;!function e(r){if(P(r)){if(n.has(r))return;for(var a in n.set(r,null),r)t&&a===t||!t&&T(r[a])?delete r[a]:e(r[a])}else if(I(r))for(var l in r)e(r[l])}(e)}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return I(t)?function(e,t){var n,r=k(t);try{for(r.s();!(n=r.n()).done;)R(e,n.value)}catch(e){r.e(e)}finally{r.f()}}(e,t):R(e,t),e},F=function(e,t){var n,r;return t&&(r=(0,b.format)(t,new Date(e))),t||(r=new Date(e)),null===(n=r)||void 0===n?void 0:n.toString()},W=function(e){return P(e)?S.Z.stringify(e,{arrayFormat:"comma"}):e},Z=C().humanizer({language:"shortEn",languages:{shortEn:{y:function(){return"y"},mo:function(){return"mo"},w:function(){return"w"},d:function(){return"d"},h:function(){return"h"},m:function(){return"m"},s:function(){return"s"},ms:function(){return"ms"}}},conjunction:" ",spacer:"",units:["h","m"]}),K=(C().humanizer({language:"masteriyo",languages:{masteriyo:{y:function(e){return(0,w._nx)("year","years",e,"years","learning-management-system")},mo:function(e){return(0,w._nx)("month","months",e,"months","learning-management-system")},w:function(e){return(0,w._nx)("week","weeks",e,"weeks","learning-management-system")},d:function(e){return(0,w._nx)("day","days",e,"days","learning-management-system")},h:function(e){return(0,w._nx)("hour","hours",e,"hours","learning-management-system")},m:function(e){return(0,w._nx)("minute","minutes",e,"minutes","learning-management-system")},s:function(e){return(0,w._nx)("second","seconds",e,"seconds","learning-management-system")},ms:function(e){return(0,w._nx)("millisecond","milliseconds",e,"milliseconds","learning-management-system")}}}}),"rtl"===document.dir?"rtl":"ltr"),M="rtl"===K;const J=function(e){var t=e.children,n={rtl:{key:"css-ar",stylisPlugins:[h.Z]},ltr:{key:"css-en"}},r=K,l=(0,y.Z)(n[r]);return a().createElement(v.C,{value:l},t)};var X=n(15671),Q=n(43144),V=n(60136),q=n(82963),B=n(61120),U=n(27239),H=n(57747),G=n(29653),Y=n(22757),$=n(26101);function ee(e){var t=te();return function(){var n,r=(0,B.Z)(e);if(t){var a=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,q.Z)(this,n)}}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}const ne=function(e){(0,V.Z)(n,e);var t=ee(n);function n(e){var r;return(0,X.Z)(this,n),(r=t.call(this,e)).state={error:null,errorInfo:null},r}return(0,Q.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e;return this.state.error?a().createElement(U.M,{minH:"90vh"},a().createElement(H.xu,{textAlign:"center"},a().createElement(G.K,{direction:"column",align:"center"},a().createElement("style",null,"a {text-decoration: underline}"),a().createElement(Y.X,null,(0,w.__)("Oops! Something went wrong.","learning-management-system")),this.state.error instanceof Error?a().createElement($.E,null,this.state.error.toString()):a().createElement("div",{dangerouslySetInnerHTML:{__html:null===(e=this.state.error)||void 0===e?void 0:e.message}})))):this.props.children}}]),n}(r.Component);var re=n(72525);const ae=(0,i.B1)({colors:{muted:"#F9FAFA",primary:{10:"#ecf3ff",50:"#FFFFFF",100:"#ecf3ff",200:"#DEE9FF",300:"#ABC7FF",400:"#78A6FF",500:"#4584FF",600:"#1262FF",700:"#004BDE",800:"#003AAB",900:"#002978"},green:{10:"#E4FFE9"},"red-light":{500:"#FF69B4"}},styles:{global:{"html,body":{bg:"gray.50"},".wp-admin #masteriyo":{ms:"-20px"},".admin-bar":{" .masteriyo-interactive-header":{top:"32px !important"}},"#masteriyo, #masteriyo-onboarding, #masteriyo-interactive-course, #masteriyo-account-page, .masteriyo-alert-content, #chakra-modal-qnaDrawer":{'input[type="color"], input[type="date"], input[type="datetime-local"], input[type="datetime"], input[type="email"], input[type="month"], input[type="number"], input[type="password"], input[type="search"], input[type="tel"], input[type="text"], input[type="time"], input[type="url"], input[type="week"], select, textarea, #rfs-btn':{shadow:"input",color:"gray.600",border:"1px",rounded:"sm",borderColor:"gray.200",maxW:"auto",_hover:{borderColor:"gray.300"},_focus:{borderColor:"primary.300"}},ul:{li:{mb:0}},".chakra-tabs__tab[aria-selected=true]":{color:"primary.600"},".chakra-switch__track[data-checked],.chakra-radio__control[data-checked]":{bg:"primary.500"},".chakra-slider__filled-track,.css-1jrtelv":{bg:"primary.500"},".ProseMirror, .masteriyo-interactive-description":{"h1, h2, h3, h4, h5, h6":{lineHeight:"1.1",fontWeight:"700"},h1:{fontSize:"28px",my:"0.67em"},h2:{fontSize:"24px",my:"0.75em"},h3:{fontSize:"20px",my:"0.83em"},h4:{fontSize:"18px",my:"1.12em"},h5:{fontSize:"16px",my:"1.5em"},h6:{fontSize:"14px",my:"1.67em"},p:{mb:"1rem"},a:{textDecoration:"underline",color:"primary.500",cursor:"pointer"},blockquote:{ps:"1rem",borderStart:"2px solid rgba(13,13,13,.1)"},code:{bg:"gray.100",color:"gray.600",p:".1rem .3rem",borderRadius:"4px"},"ul, ol":{padding:"0 0.75rem"},ul:{listStyleType:"disc"},ol:{ps:"1.2rem"},pre:{background:"#0D0D0D",color:"#FFF",fontFamily:"JetBrainsMono, monospace",padding:"0.75rem 1rem",borderRadius:"0.5rem",code:{color:"inherit",padding:"0",background:"none",fontSize:"0.8rem"},".hljs-comment,.hljs-quote":{color:"gray.600"},".hljs-variable,.hljs-template-variable,.hljs-attribute,.hljs-tag,.hljs-name,.hljs-regexp,.hljs-link,.hljs-name,.hljs-selector-id,.hljs-selector-class":{color:"#F98181"},".hljs-number,.hljs-meta,.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-type,.hljs-params":{color:"#FBBC88"},".hljs-string,.hljs-symbol,.hljs-bullet":{color:"#B9F18D"},".hljs-title,.hljs-section":{color:"#FAF594"},".hljs-keyword,.hljs-selector-tag":{color:"#70CFF8"},".hljs-emphasis":{fontStyle:"italic"},".hljs-strong":{fontWeight:"700"}}},select:{fontSize:"sm",borderRadius:"sm",shadow:"input",borderColor:"inherit",maxWidth:"full",color:"inherit",bg:"white",_hover:{borderColor:"gray.300"}},"::placeholder":{fontSize:"sm"},".responsiveTable":{width:"100%",th:{pb:"6",borderBottom:"none",textTransform:"uppercase",fontSize:"xs",textAlign:"left"},"tr:nth-of-type(2n+1) td":{bg:"#f8f9fa"},tr:{"th, td":{":first-of-type":{ps:"12"},":last-child":{pe:"12",textAlign:"right"}}},td:{py:"3",borderBottom:"none"}},".responsiveTable td .tdBefore":{display:"none"},"@media screen and (max-width: 40em)":{".responsiveTable table":{display:"block"},".responsiveTable thead":{display:"block"},".responsiveTable tbody":{display:"block"},".responsiveTable th":{display:"block"},".responsiveTable td":{display:"block"},".responsiveTable tr":{display:"block"},".customTd tdBefore":{display:"none !important"},".responsiveTable thead tr":{position:"absolute",top:"-9999px",insetStart:"-9999px",borderBottom:"2px solid #333"},".responsiveTable td.pivoted":{border:"none !important",position:"relative",paddingLeft:"calc(50% + 10px) !important",textAlign:"left !important",whiteSpace:"pre-wrap",overflowWrap:"break-word",pe:"6"},".responsiveTable td .tdBefore":{position:"absolute",display:"block",insetStart:"6",width:"calc(50% - 20px)",whiteSpace:"pre-wrap",overflowWrap:"break-word",textAlign:"left !important",fontWeight:"600",fontSize:"sm"}},".react-datepicker-wrapper,\n.react-datepicker__input-container":{display:"block"},".react-datepicker__header":{borderRadius:"0",background:"primary.100"},".react-datepicker__navigation":{top:"8px"},".react-datepicker,\n.react-datepicker__header,\n.react-datepicker__time-container":{borderColor:"#e2e8f0"},".react-datepicker__current-month,\n.react-datepicker-time__header,\n.react-datepicker-year-header":{fontSize:"inherit",fontWeight:600},".react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item":{margin:"0 1px 0 0",height:"auto",padding:"7px 10px","&:hover":{background:"#edf2f7"}},".react-datepicker__day:hover":{background:"#edf2f7"},".react-datepicker__day--selected,\n.react-datepicker__day--in-selecting-range,\n.react-datepicker__day--in-range,\n.react-datepicker__month-text--selected,\n.react-datepicker__month-text--in-selecting-range,\n.react-datepicker__month-text--in-range,\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected":{background:"#3182ce",fontWeight:"normal","&:hover":{background:"#2a69ac"}},".react-datepicker__triangle":{display:"none"}},".chakra-collapse":{overflow:"visible !important"}}},shadows:{box:"0px 0px 60px rgba(0, 0, 0, 0.08)",input:"0px 1px 0px #EFF0F6",button:"0px 4px 14px rgba(0, 0, 0, 0.13)",boxl:"0px 0px 60px rgba(0, 0, 0, 0.15)",header:"0px 2px 15px rgba(0, 0, 0, 0.04)",question:"0px 2px 15px rgba(0, 0, 0, 0.08)"},components:{Popover:{baseStyle:{popper:{width:"fit-content",maxWidth:"fit-content"}}},Button:{baseStyle:{borderRadius:"sm"},sizes:{md:{fontSize:"xs"},sm:{fontSize:"xs"}},variants:{solid:{shadow:"button"},icon:{fontSize:"lg",minW:"auto",height:"auto",svg:{width:"1em",height:"1em"}},pagination:{bg:"primary.100",w:"8",h:"8",_hover:{bg:"primary.400"}}}},Input:{sizes:{md:{field:{borderRadius:"sm",shadow:"input"}}},variants:{outline:{addon:{bg:"#f8f8f8",borderRadius:"sm",fontSize:"sm"}}},defaultProps:{_placeholder:{color:"red"}}},Textarea:{sizes:{md:{borderRadius:"sm",shadow:"input"}}},FormLabel:{baseStyle:{fontSize:"sm",fontWeight:"semibold",mb:"3"}},Select:{sizes:{md:{field:{borderRadius:"sm",shadow:"input"}}}},Text:{baseStyle:{margin:"0"}},Modal:{sizes:{fullSpacing:{dialog:{w:"100%",maxW:"800px",minH:"400px",maxH:"calc(100vh - 80px)"}}}},Radio:{sizes:{md:{label:{fontSize:"sm"}}}},Steps:re.zX}});var le=n(16765),ie=n(57426),oe=function(e){(0,le.l7)([ie.Z]);var t=(0,le.Vi)(e).tints(7).map((function(e){return e.toHex()})),n=(0,le.Vi)(e).shades(7).map((function(e){return e.toHex()}));return{50:t[5],100:t[4],200:t[3],300:t[2],400:t[1],500:e,600:n[1],700:n[2],800:n[3],900:n[4]}},se=n(74153),ce=n(7405);const ue=function(e){var t=e.message,n=e.status;return a().createElement(se.b,{status:n},a().createElement(ce.z,null),(0,w.__)(t,"learning-management-system"))};var me=n(22338),de=n(93717),ge=n(73804),pe=n(79655),fe=n(89250),Ee=n(6364),ye=n(34292),ve=n(71293),he=n(32553),_e=n(47516);const be=function(e){var t=e.title,n=e.count,r=e.colorScheme,l=e.icon,i=e.noIconBackground,o=void 0!==i&&i;return a().createElement(H.xu,{borderWidth:"1px",borderColor:"gray.100",className:"mto-dashboard-courses-card-wrapper"},a().createElement(G.K,{direction:"row",spacing:"4",p:"6",className:"mto-dashboard-courses-card"},a().createElement(G.K,{direction:"row",spacing:"4",align:"center",justify:"space-between",className:"mto-dashboard-courses-content"},a().createElement(U.M,{bg:o?void 0:"".concat(r,".100"),w:"16",h:"16",rounded:"xl",color:"".concat(r,".500"),className:"mto-dashboard-courses-content-left"},l),a().createElement(G.K,{direction:"column",className:"mto-dashboard-courses-content-right"},a().createElement(Y.X,{size:"sm",color:"gray.800",margin:0},t),a().createElement(ve.x,{color:"".concat(r,".700"),fontWeight:"bold",fontSize:"md"},n)))))};var we=n(87462);const xe=window._MASTERIYO_;var Ce=function(e){return e.POINT="point",e.ACHIEVEMENT="achievement",e.RANK="rank",e}({}),Se=function(e){return e.ACCOUNT_PAGE="account-page",e.LEARN_PAGE="learn-page",e}({}),ke=function(e){return e.BELOW_USERNAME="below-username",e.BELOW_AUTHOR_SECTION="below-author-section",e.DASHBOARD_NEW_SECTION="dashboard-new-section",e.NEW_TAB="new-tab",e.DASHBOARD_CARD="dashboard-card",e}({});const Oe=function(e){var t=e.page,n=e.location,r=e.renderPoint,l=e.renderRank,i=e.renderAchievement,o=e.wrapPlacementGroup,s=void 0===o?function(e){return e}:o,c=e.render,u=void 0===c?function(e){return e}:c,m=e.placementId,d=e.pointTypes,g=e.rankTypes,p=e.achievementTypes,f=e.uiPlacements,E=[],y=[],v=[],h=[];return null==f||f.filter((function(e){return T(m)?e.page===t&&e.location===n:e.id===m})).forEach((function(e){var t=[];if(Ce.POINT===e.reward_type&&d){var n=T(e.types)?Object.keys(d):e.types;null==n||n.forEach((function(n){var l=d[n];l&&!E.includes(n)&&(E.push(n),t.push(a().createElement(a().Fragment,{key:e.id+n},r(l,e))))}))}if(Ce.RANK===e.reward_type&&g){var o=T(e.types)?Object.keys(g):e.types;null==o||o.forEach((function(n){var r=g[n];r&&!y.includes(n)&&(y.push(n),t.push(a().createElement(a().Fragment,{key:e.id+n},l(r,e))))}))}if(Ce.ACHIEVEMENT===e.reward_type&&p){var c=T(e.types)?Object.keys(p):e.types;null==c||c.forEach((function(n){var r,l=p[n];l&&!v.includes(n)&&(v.push(n),null===(r=l.achievements)||void 0===r||r.forEach((function(r,o){t.push(a().createElement(a().Fragment,{key:e.id+n+o},i(r,l,e)))})))}))}h.push(a().createElement(a().Fragment,{key:e.id},s(t,e)))})),T(h)?null:a().createElement(a().Fragment,null,u(h))};const ze=function(e){var t,n,r,l,i=e.page,o=void 0===i?Se.ACCOUNT_PAGE:i,s=e.pointTypes,c=void 0===s?null===(t=xe.gamipress)||void 0===t?void 0:t.point_types:s,u=e.rankTypes,m=void 0===u?null===(n=xe.gamipress)||void 0===n?void 0:n.rank_types:u,d=e.achievementTypes,g=void 0===d?null===(r=xe.gamipress)||void 0===r?void 0:r.achievement_types:d,p=e.uiPlacements,f=void 0===p?null===(l=xe.gamipress)||void 0===l?void 0:l.ui_placements:p;return a().createElement(Oe,(0,we.Z)({},e,{page:o,pointTypes:c,rankTypes:m,achievementTypes:g,uiPlacements:f}))};const Ie=function(e){var t=e.placement;return a().createElement(ze,{placementId:t.id,location:ke.NEW_TAB,renderPoint:function(e){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.plural_name,count:e.points,icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"gray"}))},renderRank:function(e){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.singular_name,count:e.rank,icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"cyan"}))},renderAchievement:function(e){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.label,count:"",icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"cyan"}))},wrapPlacementGroup:function(e,t){return a().createElement(G.K,{direction:"column",spacing:"8"},a().createElement(G.K,{direction:{base:"column",sm:"row",md:"row",lg:"row"},spacing:"4",justify:{base:"start",sm:"start",md:"start",lg:"space-between"},alignItems:{base:"left",sm:"left",md:"center",lg:"center"}},a().createElement(Y.X,{size:"md"},t.title)),T(e)?a().createElement(ye.U,{bgColor:"gray.100",p:"2"},a().createElement(_e.Fs0,null),a().createElement(ve.x,{fontWeight:"md"},(0,w.__)("Not found.","learning-management-system"))):a().createElement(he.X2,{gutterWidth:30,justify:"start",direction:"row",style:{gap:2,rowGap:"20px"}},e))}})};var Pe=function(e){return"/"+function(e){var t="";return e.title&&(t=e.title.toLowerCase().replaceAll(" ","-")+"-"),t+e.id}(e)},Ne=n(46069),je=n(7963),Ae=n(76915),Te=n(60155),De=n(40359),Re=n(64163),Le=n(89583);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ze=function(e){var t=e.metaData,n=e.setFilterParams,r=e.perPageText,l=e.outerLimits,i=void 0===l?2:l,o=e.innerLimits,s=void 0===o?2:o,c=e.showPerPage,u=void 0===c||c,m=e.extraFilterParams,d=void 0===m?{}:m,g=(0,De.h0)({total:null==t?void 0:t.total,limits:{outer:i,inner:s},initialState:{pageSize:null==t?void 0:t.per_page,isDisabled:!1,currentPage:null==t?void 0:t.current_page}}),p=g.pages,f=g.pagesCount,E=g.currentPage,y=g.setCurrentPage,v=g.pageSize,h=g.setPageSize,_=(null==t?void 0:t.per_page)*(null==t?void 0:t.current_page),b=_-(null==t?void 0:t.per_page)+1,x=(null==t?void 0:t.current_page)===(null==t?void 0:t.pages)?null==t?void 0:t.total:_;return a().createElement(G.K,{mt:"8",w:"full",direction:["column",null,"row"],justifyContent:"space-between",pb:"4",fontSize:["xs",null,"sm"]},a().createElement(ve.x,{color:"gray.500"},(0,w.sprintf)((0,w.__)("Showing %1$d - %2$d out of %3$d","learning-management-system"),b,x,null==t?void 0:t.total)),a().createElement(ye.U,null,u?a().createElement(a().Fragment,null,a().createElement(ve.x,{color:"gray.500"},r),a().createElement(Re.P,{size:"sm",defaultValue:null==t?void 0:t.per_page,ml:3,onChange:function(e){var t=Number(e.target.value);n(We({per_page:t},d)),h(t)},w:20},a().createElement("option",{value:"5"},"5"),a().createElement("option",{value:"10"},"10"),a().createElement("option",{value:"20"},"20"),a().createElement("option",{value:"30"},"30"),a().createElement("option",{value:"40"},"40"),a().createElement("option",{value:"50"},"50"))):null,a().createElement(De.tl,{pagesCount:f,currentPage:E,onPageChange:function(e){n(We({page:e,per_page:v},d)),y(e)}},a().createElement(De.fS,{sx:{li:{m:"0"}}},a().createElement(G.K,{direction:"row",spacing:"1"},a().createElement(De.dN,{variant:"pagination"},M?a().createElement(Le.Dli,null):a().createElement(Le.bUI,null)),a().createElement(De.NV,{isInline:!0,align:"center",separator:a().createElement(De.N9,{variant:"pagination"})},p.map((function(e){return a().createElement(De.Vt,{key:"pagination_page_".concat(e),page:e,variant:"pagination",_current:{bg:"primary.500",color:"white"}})}))),a().createElement(De.$0,{variant:"pagination"},M?a().createElement(Le.bUI,null):a().createElement(Le.Dli,null)))))))};var Ke=n(15861);const Me=window.regeneratorRuntime;var Je=n.n(Me),Xe=n(86989),Qe=n.n(Xe);Qe().use(Qe().createNonceMiddleware(d.nonce)),Qe().use(Qe().createRootURLMiddleware(d.rootApiUrl));const Ve=Qe();const qe=function(){function e(t){(0,X.Z)(this,e),this.uri="".concat(t,"/")}var t,n,r,a,l,i,o,s,c,u,m,d,g,p,f;return(0,Q.Z)(e,[{key:"list",value:(f=(0,Ke.Z)(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:t?"".concat(this.uri,"?").concat(W(t)):this.uri,method:"get"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"get",value:(p=(0,Ke.Z)(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:"".concat(t?this.uri+t:this.uri).concat("edit"===n?"?context=edit":""),method:"get"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"store",value:(g=(0,Ke.Z)(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri,method:"post",data:t}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"update",value:(d=(0,Ke.Z)(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+t,method:"post",headers:{"x-http-method-override":"PUT"},data:n}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"bulkDelete",value:(m=(0,Ke.Z)(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+t,method:"post",headers:{"x-http-method-override":"DELETE"},data:n}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"bulkUpdate",value:(u=(0,Ke.Z)(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+t,method:"post",headers:{"x-http-method-override":"PUT"},data:n}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"bulkRestore",value:(c=(0,Ke.Z)(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+t,method:"post",data:n}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"delete",value:(s=(0,Ke.Z)(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:n?"".concat(this.uri).concat(t,"?").concat(W(n)):this.uri+t,method:"post",headers:{"x-http-method-override":"DELETE"}}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"start",value:(o=(0,Ke.Z)(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+"start_quiz",data:{id:t},method:"post"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"check",value:(i=(0,Ke.Z)(Je().mark((function e(t,n){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+"check_answers",data:{id:t,data:n},method:"post"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"restore",value:(l=(0,Ke.Z)(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+t+"/restore",method:"post"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"updateProfileImage",value:(a=(0,Ke.Z)(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri,body:t,method:"post"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"deleteResource",value:(r=(0,Ke.Z)(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri,method:"delete"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"updateInstructorApplyStatus",value:(n=(0,Ke.Z)(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri,body:t,method:"post"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"cloneData",value:(t=(0,Ke.Z)(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve({path:this.uri+t+"/clone",method:"post"}).then((function(e){return e})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();var Be="/masteriyo/v1/",Ue={groups:Be+"groups",settings:Be+"groups/settings"},He=n(96389),Ge=n(49289),Ye=n(85970),$e=n(5418),et=n(78590),tt=n(87536),nt=n(33090),rt=n(97326),at=n(57169);function lt(e){var t=it();return function(){var n,r=(0,B.Z)(e);if(t){var a=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,q.Z)(this,n)}}function it(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(it=function(){return!!e})()}var ot=window,st=ot.wp,ct=ot.addEventListener,ut=ot.removeEventListener;const mt=function(e){(0,V.Z)(n,e);var t=lt(n);function n(e){var r;return(0,X.Z)(this,n),(r=t.call(this,e)).state={editor:null,id:e.id},r.initEditor=r.initEditor.bind((0,rt.Z)(r)),r}return(0,Q.Z)(n,[{key:"componentDidMount",value:function(){"complete"===document.readyState?this.initEditor():ct("DOMContentLoaded",this.initEditor)}},{key:"componentWillUnmount",value:function(){var e;ut("DOMContentLoaded",this.initEditor),(null==st||null===(e=st.editor)||void 0===e?void 0:e.remove)instanceof Function?st.editor.remove(this.state.id):console.warn("wp.editor.remove is not available")}},{key:"initEditor",value:function(){var e,t=this;e=null!==this.state.id?this.state.id:t.props.id,A(st)||A(st.editor)||st.editor.initialize("".concat(e),{tinymce:{wpautop:!1,plugins:"charmap textcolor colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",toolbar1:"formatselect bold italic underline bullist numlist blockquote alignleft aligncenter alignright link wp_more media wp_add_media wp_adv",toolbar2:"forecolor strikethrough wp_code wp_page removeformat charmap outdent indent undo redo wp_help ",setup:function(e){t.setState({editor:e,id:t.props.id}),e.on("keyup change",(function(n){var r=e.getContent();t.props.onContentChange(r,t.props.name)}))},height:t.props.height||350}})}},{key:"render",value:function(){var e=this,t=this.props.name?this.props.name:"";return a().createElement(H.xu,{sx:{".mce-tinymce":{shadow:"input",border:"1px",borderColor:"gray.100",".mce-statusbar":{borderTop:"1px solid",borderColor:"gray.100"},".mce-container-body":{bg:"white"},".mce-toolbar":{".mce-btn":{borderColor:"transparent",shadow:"none","&.mce-listbox":{borderColor:"gray.100",rounded:"3px"},button:{rounded:"3px",padding:"1",transition:"all 0.35s","&:hover":{borderColor:"gray.100"}},".mce-ico":{fontSize:"1rem",lineHeight:1.2},"&.mce-active":{bg:"primary.500",color:"white"}}},".mce-toolbar-grp.mce-container.mce-panel.mce-first.mce-last":{borderBottom:"2px solid",borderColor:"gray.100"},".mce-top-part::before":{boxShadow:"none"}}}},a().createElement(at.g,{id:this.props.id,value:this.props.value,onChange:function(t){return e.props.onContentChange(t.target.value)},name:t}))}}]),n}(a().Component);const dt=function(e){var t=e.id,n=e.name,l=e.defaultValue,i=e.height,o=(0,tt.Gc)(),s=o.register,c=o.setValue;return(0,r.useEffect)((function(){c(n,l)}),[l,c,n]),a().createElement(a().Fragment,null,a().createElement(nt.I,(0,we.Z)({type:"hidden"},s(n),{defaultValue:l})),a().createElement(mt,{id:t,value:l,onContentChange:function(e){c(n,T(e)?" ":e)},height:i}))};var gt=n(89062),pt=n(82140),ft=n(32735),Et=n(89993),yt=n(26105),vt=n(47710),ht=n(8371),_t=n(5434);const bt=function(e){var t,n,l=e.defaultValue,i=void 0===l?[]:l,o=(0,tt.Gc)(),s=o.setValue,c=o.watch,u=o.trigger,m=o.formState.errors,d=o.setError,g=o.clearErrors,p=(0,r.useState)(""),f=(0,_.Z)(p,2),E=f[0],y=f[1],v=c("emails")||i,h=(null==xe||null===(t=xe.group_courses)||void 0===t?void 0:t.group_limit)||0,b=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())},x=function(){if(b(E))if(v.includes(E))d("emails",{type:"manual",message:(0,w.__)("Email already added.","learning-management-system")});else if(h>0&&v.length>=h)d("emails",{type:"manual",message:(0,w.__)("Group limit reached.","learning-management-system")});else{var e=[].concat((0,gt.Z)(v),[E]);s("emails",e,{shouldValidate:!0}),y(""),g("emails"),u("emails")}else d("emails",{type:"manual",message:(0,w.__)("Invalid email address.","learning-management-system")})};return a().createElement(Ye.NI,{isInvalid:Boolean(m.emails)},a().createElement($e.l,null,"".concat((0,w.__)("Members","learning-management-system")).concat(h>0?" ( ".concat((0,w.__)("Group limit:","learning-management-system")," ").concat(v.length,"/").concat(h,")"):"")),a().createElement(G.K,{spacing:2,direction:"row",flexWrap:"wrap"},a().createElement(pt.B,null,a().createElement(nt.I,{value:E,placeholder:(0,w.__)("Add new member","learning-management-system"),onChange:function(e){y(e.target.value),(0===e.target.value.length||b(e.target.value))&&g(["emails"])},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),x())}}),a().createElement(ft.x,null,a().createElement(Et.h,{"aria-label":(0,w.__)("Add Email","learning-management-system"),icon:a().createElement(_t.y3M,{size:"24px",color:"white"}),onClick:x,isDisabled:!b(E)||v.includes(E)||h>0&&v.length>=h,variant:"solid",colorScheme:"primary"}))),m.emails&&a().createElement(yt.J1,null,null===(n=m.emails.message)||void 0===n?void 0:n.toString()),a().createElement(H.xu,{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},v&&v.map((function(e,t){return a().createElement(vt.U,{key:t},a().createElement(ht.Vp,{colorScheme:"blue",mx:1,mt:2},a().createElement(ht.Sn,null,e),a().createElement(ht.SD,{color:"white",onClick:function(){return t=e,n=v.filter((function(e){return e!==t})),s("emails",n,{shouldValidate:!0}),void u("emails");var t,n}})))})))))};const wt=function(e){var t,n=e.defaultValue,r=(0,tt.Gc)(),l=r.register,i=r.formState.errors;return a().createElement(Ye.NI,{isInvalid:!(null==i||!i.name)},a().createElement($e.l,null,(0,w.__)("Group Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({defaultValue:n,placeholder:(0,w.__)("Enter group name","learning-management-system")},l("title",{required:(0,w.__)("Please provide name for the group.","learning-management-system")}))),a().createElement(yt.J1,null,(null==i||null===(t=i.name)||void 0===t?void 0:t.message)+""))};const xt=function(e){var t=e.handleAddNewGroup,n=e.isLoading,r=e.onClose,l=(0,tt.cI)(),i=(0,He.S)(["sm","md"]);return a().createElement(H.xu,{bgColor:"white",my:3,border:"1px",borderColor:"gray.200",boxShadow:"lg"},a().createElement(de.k,{cursor:"pointer",justifyContent:"space-between",alignItems:"center",p:3},a().createElement(ve.x,{fontWeight:"bold"},(0,w.__)("Add New Group","learning-management-system"))),a().createElement(Ge.i,null),a().createElement(H.xu,{p:4},a().createElement(tt.RV,l,a().createElement("form",{onSubmit:l.handleSubmit((function(e){t(e)}))},a().createElement(G.K,{direction:"column",spacing:"6"},a().createElement(wt,null),a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Group Description","learning-management-system")),a().createElement(dt,{id:"mto-group-description",name:"description",height:200})),a().createElement(bt,null),a().createElement(et.h,null,a().createElement(Ae.z,{type:"submit",size:i,colorScheme:"primary",isLoading:n},(0,w.__)("Create","learning-management-system")),a().createElement(Ae.z,{size:i,variant:"outline",onClick:function(){return r()}},(0,w.__)("Cancel","learning-management-system"))))))))};var Ct=n(55512),St=n(40367),kt=n(64859),Ot=n(54346),zt=n(14253),It=n(24880),Pt=n(43871),Nt=n(36948),jt=function(e){return e.Any="any",e.Publish="publish",e.Draft="draft",e.Trash="trash",e}({}),At="/groups";const Tt=function(e){var t,n,l=e.group,i=e.onExpandedGroupsChange,o=e.isGroupExpanded,s=(0,je.p)(),u=(0,fe.s0)(),m=(0,c.useQueryClient)(),d=new qe(Ue.groups),g=(0,tt.cI)(),p=(0,r.useState)(!1),f=(0,_.Z)(p,2),E=f[0],y=f[1],v=function(){return y(!1)},h=(0,r.useRef)(null),b=(0,c.useMutation)((function(e){return d.update(l.id,e)}),{onSuccess:function(){m.invalidateQueries("group".concat(l.id)),m.invalidateQueries("groupsList"),s({title:(0,w.__)("Group updated successfully.","learning-management-system"),isClosable:!0,status:"success"}),u(At)},onError:function(e){var t,n=null!=e&&e.message?null==e?void 0:e.message:null==e||null===(t=e.data)||void 0===t?void 0:t.message;s({title:(0,w.__)("Failed to update the group.","learning-management-system"),description:n?"".concat(n):void 0,status:"error",isClosable:!0})}}),x=(0,c.useMutation)((function(){return d.delete(l.id,{force:!0})}),{onSuccess:function(){m.invalidateQueries(["groupsList"]),s({title:(0,w.__)("Group created successfully.","learning-management-system"),status:"success",isClosable:!0}),null==i||i(null)},onError:function(e){var t;s({title:(0,w.__)("An error occurred.","learning-management-system"),description:(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||e.message,status:"error",isClosable:!0})}}),C=l.status===jt.Publish,S=(0,He.S)(["sm","md"]);return a().createElement(a().Fragment,null,a().createElement(Ct.a,{isOpen:E,onClose:v,leastDestructiveRef:h,isCentered:!0},a().createElement(St.Z,null,a().createElement(Ct._,null,a().createElement(kt.x,{fontSize:"lg",fontWeight:"bold"},(0,w.__)("Deleting Group","learning-management-system")),a().createElement(Ot.f,null,(0,w.__)("Are you sure? You can’t undo this action afterwards.","learning-management-system")),a().createElement(zt.m,null,a().createElement(Ae.z,{ref:h,onClick:v},(0,w.__)("Cancel","learning-management-system")),a().createElement(Ae.z,{colorScheme:"red",onClick:function(){return x.mutate()},ml:3,isLoading:x.isLoading},(0,w.__)("Delete","learning-management-system")))))),a().createElement(H.xu,{bgColor:"white",my:3,border:"1px",borderColor:"gray.200",boxShadow:o?"lg":"none"},a().createElement(de.k,{justifyContent:"space-between",alignItems:"center",p:3},a().createElement(ve.x,{fontWeight:"bold",cursor:"pointer",onClick:function(){return null==i?void 0:i(l.id)}},l.title,!C&&a().createElement(It.C,{ml:3,colorScheme:"yellow",p:1,borderRadius:"md"},(0,w.__)("Pending","learning-management-system"))),a().createElement(et.h,{color:"gray.500",size:"xs",p:"2"},a().createElement(Pt.u,{label:"".concat((null==l||null===(t=l.emails)||void 0===t?void 0:t.length)||0," ").concat((0,w.__)("members","learning-management-system"))},a().createElement(ye.U,{spacing:"1"},a().createElement(Nt.J,{as:_e.p$$}),a().createElement(ve.x,{textAlign:"start",fontSize:"md"},(null==l||null===(n=l.emails)||void 0===n?void 0:n.length)||0))),a().createElement(Pt.u,{label:"".concat((null==l?void 0:l.courses_count)||0," ").concat((0,w.__)("Enrolled Courses","learning-management-system"))},a().createElement(ye.U,{spacing:"1"},a().createElement(Nt.J,{as:_e.lOc}),a().createElement(ve.x,{textAlign:"start",fontSize:"md"},(null==l?void 0:l.courses_count)||0))),a().createElement(Pt.u,{label:(0,w.__)("Edit","learning-management-system")},a().createElement(Et.h,{_hover:{color:"primary.500",background:"none"},onClick:function(){return null==i?void 0:i(l.id)},variant:"unstyled",cursor:"pointer",icon:a().createElement(Nt.J,{fontSize:"xl",as:_e.Hlf}),"aria-label":(0,w.__)("Edit","learning-management-system")})),a().createElement(Pt.u,{label:(0,w.__)("Delete","learning-management-system")},a().createElement(Et.h,{_hover:{color:"red.500",background:"none"},cursor:"pointer",isDisabled:x.isLoading,isLoading:x.isLoading,onClick:function(){y(!0)},variant:"unstyled",icon:a().createElement(Nt.J,{fontSize:"xl",as:_e.SW4}),"aria-label":(0,w.__)("Delete","learning-management-system")})))),o&&a().createElement(Ge.i,null),o&&a().createElement(H.xu,{p:4},a().createElement(tt.RV,g,a().createElement("form",{onSubmit:g.handleSubmit((function(e){b.mutate(L(e))}))},a().createElement(G.K,{direction:"column",spacing:"6"},a().createElement(wt,{defaultValue:(null==l?void 0:l.title)||""}),a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Group Description","learning-management-system")),a().createElement(dt,{id:"mto-group-description",name:"description",defaultValue:(null==l?void 0:l.description)||"",height:200})),a().createElement(bt,{defaultValue:(null==l?void 0:l.emails)||[]}),a().createElement(et.h,null,a().createElement(Ae.z,{type:"submit",size:S,colorScheme:"primary",isLoading:b.isLoading},(0,w.__)("Update","learning-management-system")),a().createElement(Ae.z,{size:S,variant:"outline",onClick:function(){return null==i?void 0:i(l.id)}},(0,w.__)("Cancel","learning-management-system")))))))))};var Dt=n(43214),Rt=n(12054);const Lt=function(){return a().createElement(a().Fragment,null,(0,gt.Z)(Array(5)).map((function(e,t){return a().createElement(H.xu,{key:t,bgColor:"white",my:3,border:"1px",borderColor:"gray.200",boxShadow:"lg"},a().createElement(de.k,{justifyContent:"space-between",alignItems:"center",p:3},a().createElement(Dt.N,{width:"90px",noOfLines:1}),a().createElement(et.h,{isAttached:!0,size:"sm"},a().createElement(Rt.s,{size:"8"}),a().createElement(Rt.s,{size:"8"}),a().createElement(Rt.s,{size:"8"}))))})))};var Ft=new qe(Ue.groups);const Wt=function(){var e,t,n,l,i=(0,c.useQueryClient)(),o=(0,Ne.q)(),s=o.isOpen,u=o.onToggle,m=o.onClose,d=(0,je.p)(),g=(0,r.useState)(null),p=(0,_.Z)(g,2),f=p[0],E=p[1],y=a().useState({order:"desc",orderby:"date"}),v=(0,_.Z)(y,2),h=v[0],b=v[1],x=(0,c.useQuery)(["groupsList",h],(function(){return Ft.list(h)}),{keepPreviousData:!0}),C=(0,c.useMutation)((function(e){return Ft.store(e)}));return a().createElement(a().Fragment,null,a().createElement(H.xu,{display:"flex",justifyContent:"space-between"},a().createElement(Y.X,{as:"h4",size:"md",fontWeight:"bold",color:"primary.900"},(0,w.__)("Groups","learning-management-system")),a().createElement(Ae.z,{colorScheme:"primary",leftIcon:a().createElement(Te.b0B,{size:20}),onClick:function(){E(null),u()}},(0,w.__)("Add New Group","learning-management-system"))),s&&a().createElement(xt,{handleAddNewGroup:function(e){C.mutate(L(e),{onSuccess:function(e){u(),d({title:e.title+(0,w.__)(" has been added.","learning-management-system"),status:"success",isClosable:!0}),i.invalidateQueries("groupsList")},onError:function(e){var t,n=null!=e&&e.message?null==e?void 0:e.message:null==e||null===(t=e.data)||void 0===t?void 0:t.message;d({title:(0,w.__)("Failed to create group.","learning-management-system"),description:n?"".concat(n):void 0,status:"error",isClosable:!0})}})},isLoading:C.isLoading,onClose:m}),x.isLoading||!x.isFetched?a().createElement(Lt,null):x.isError?a().createElement(se.b,{status:"error"},a().createElement(ce.z,null),(0,w.__)("Error fetching groups.","learning-management-system")):x.isSuccess&&T(null==x||null===(e=x.data)||void 0===e?void 0:e.data)&&!s?a().createElement(se.b,{status:"info"},a().createElement(ce.z,null),(0,w.__)("No groups found.","learning-management-system")):null==x||null===(t=x.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.map((function(e){return a().createElement(Tt,{key:e.id,group:e,isGroupExpanded:f===e.id,onExpandedGroupsChange:function(e){return E((function(t){return t===e?null:e}))}})})),x.isSuccess&&!T(null==x||null===(n=x.data)||void 0===n?void 0:n.data)&&a().createElement(Ze,{metaData:null==x||null===(l=x.data)||void 0===l?void 0:l.meta,setFilterParams:b,perPageText:(0,w.__)("Groups Per Page:","learning-management-system")}))};var Zt=n(70959),Kt=n(44461),Mt=n(24124),Jt=n(84028),Xt=n(90889),Qt=n(63750),Vt="/masteriyo/v1/";const qt={wpMedia:"/wp/v2/media",wpPages:"/wp/v2/pages",pages:Vt+"pages",courses:Vt+"courses",categories:Vt+"courses/categories",tags:Vt+"courses/tags",difficulties:Vt+"courses/difficulties",lessons:Vt+"lessons",questions:"masteriyo/v1/questions",quizes:Vt+"quizes",quizesAttempts:Vt+"quizes/attempts",quizesReview:Vt+"quizes/reviews",lastQuizAttemp:Vt+"quizes/attempts/last-attempt",sections:Vt+"sections",contents:Vt+"sections/children",orders:Vt+"orders",order_items:Vt+"order-items",users:Vt+"users",currentUser:Vt+"users/me",settings:Vt+"settings",exportSettings:Vt+"settings/export",importSettings:Vt+"settings/import",builder:Vt+"coursebuilder",courseProgress:Vt+"course-progress",courseProgressItem:Vt+"course-progress/items",qa:Vt+"courses/questions-answers",countries:Vt+"datas/countries",states:Vt+"datas/states",currencies:Vt+"datas/currencies",instructors:Vt+"users/instructors",myCourses:Vt+"users/courses",userLogout:Vt+"users/logout",profileImage:Vt+"users/account/profile-image",reviews:Vt+"courses/reviews",quizBuilder:Vt+"quizbuilder",import:Vt+"courses/import",export:Vt+"courses/export",usersImport:Vt+"users/import",usersExport:Vt+"users/export",quizzesImport:Vt+"quizzes/import",quizzesExport:Vt+"quizzes/export",importSampleCourses:Vt+"courses/import/sample-courses",analytics:Vt+"analytics",webhooks:Vt+"webhooks",webhookEvents:Vt+"webhooks/events",openai:Vt+"openai/add-new-course",openaiCourseStatus:Vt+"openai/get-course-status",openaiGenerateContent:Vt+"openai/generate-content",roles:Vt+"roles",applyForInstructor:Vt+"users/account/apply-for-instructor",notifications:Vt+"notifications",systemStatus:Vt+"datas/system-status",utilitiesRedundantEnrollments:Vt+"utilities/refresh-course-access",QRLogin:Vt+"users/qr-login",manage_user_session:Vt+"users/session-update"};const Bt=function(e){var t=e.title,n=e.subtitle,r=e.colorScheme,l=e.icon;return a().createElement(H.xu,{borderWidth:"1px",borderColor:"gray.100"},a().createElement(G.K,{direction:"row",spacing:"4",p:"6"},a().createElement(G.K,{direction:"row",spacing:"4",align:"center",justify:"space-between"},a().createElement(U.M,{bg:"".concat(r,".100"),w:"16",h:"16",rounded:"xl",color:"".concat(r,".500")},l),a().createElement(G.K,{direction:"column"},a().createElement(Y.X,{size:"sm",color:"gray.800"},t),a().createElement(H.xu,{color:"".concat(r,".700"),fontWeight:"bold",fontSize:"md"},n)))))};var Ut=n(526);const Ht=function(){return a().createElement(G.K,{spacing:"5"},a().createElement(G.K,{direction:{base:"column",sm:"column",md:"row",lg:"row"},spacing:"5"},[1,2,3].map((function(e){return a().createElement(H.xu,{p:6,borderWidth:"1px",key:e,w:"100%"},a().createElement(G.K,{direction:"row"},a().createElement(Ut.O,{h:"4rem",w:"4rem"}),a().createElement(G.K,{flex:2,spacing:"5"},a().createElement(Dt.N,{noOfLines:1}),a().createElement(Rt.s,{size:"4"}))))}))),a().createElement(Ut.O,{noOfLines:1,height:"40px",width:"113px"}))};var Gt=n(93944),Yt=n(63888),$t=n(66205),en=[{id:"paypal",name:(0,w.__)("Paypal","learning-management-system")},{id:"bank_transfer",name:(0,w.__)("Bank Transfer","learning-management-system")},{id:"e_check",name:(0,w.__)("E-Check","learning-management-system")}];const tn=function(e){var t,n,l,i,o=e.data,s=e.onClose,u=e.isOpen,m=(0,tt.cI)(),d=m.register,g=m.handleSubmit,p=m.watch,f=(0,c.useQueryClient)(),E=(0,r.useRef)();E.current=p("method",null!==(t=null==o?void 0:o.method)&&void 0!==t?t:"");var y=new qe(qt.currentUser),v=(0,je.p)(),h=(0,c.useMutation)((function(e){return y.store({withdraw_method_preference:e})}),{onSuccess:function(){f.invalidateQueries("userProfile"),s(),v({title:(0,w.__)("Withdraw method updated successfully","learning-management-system"),status:"success",isClosable:!0,containerStyle:{fontSize:"sm"}})},onError:function(e){s(),v({status:"error",isClosable:!0,title:(0,w.__)("Failed to update withdraw method","learning-management-system"),description:e.message,containerStyle:{fontSize:"sm"}})}}),_=function(e){h.mutate(e)};return a().createElement(Gt.u_,{isOpen:u,onClose:s,isCentered:!0},a().createElement(St.Z,null),a().createElement(Yt.h,null,a().createElement(kt.x,{px:"10",pt:10},(0,w.__)("Withdraw Preference","learning-management-system")),a().createElement($t.o,null),a().createElement(Ot.f,{px:"10",pb:null!==(n=xe.withdraw_methods)&&void 0!==n&&n.length?void 0:10},null!==(l=xe.withdraw_methods)&&void 0!==l&&l.length?a().createElement("form",{onSubmit:g(_)},a().createElement(G.K,{spacing:"9",w:"100%"},a().createElement(G.K,{direction:"column",spacing:"4"},a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Withdraw Method","learning-management-system")),a().createElement(Re.P,(0,we.Z)({placeholder:(0,w.__)("Select a withdraw method","learning-management-system")},d("method"),{defaultValue:null==o?void 0:o.method}),en.filter((function(e){var t;return null===(t=xe.withdraw_methods)||void 0===t?void 0:t.includes(e.id)})).map((function(e){return a().createElement("option",{key:e.id,value:e.id},e.name)})))),"e_check"===E.current&&a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Physical Address","learning-management-system")),a().createElement(nt.I,(0,we.Z)({},d("physical_address"),{defaultValue:null==o?void 0:o.physical_address}))),"paypal"===E.current&&a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Paypal Email Address","learning-management-system")),a().createElement(nt.I,(0,we.Z)({},d("paypal_email"),{defaultValue:null==o?void 0:o.paypal_email}))),"bank_transfer"===E.current&&a().createElement(a().Fragment,null,a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Bank Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({},d("bank_name"),{defaultValue:null==o?void 0:o.bank_name}))),a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Account Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({},d("account_name"),{defaultValue:null==o?void 0:o.account_name}))),a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("Account Number","learning-management-system")),a().createElement(nt.I,(0,we.Z)({},d("account_number"),{defaultValue:null==o?void 0:o.account_number}))),a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("International Bank Account Number (IBAN)","learning-management-system")),a().createElement(nt.I,(0,we.Z)({},d("iban"),{defaultValue:null==o?void 0:o.iban}))),a().createElement(Ye.NI,null,a().createElement($e.l,null,(0,w.__)("BIC / SWIFT Code","learning-management-system")),a().createElement(nt.I,(0,we.Z)({},d("swift_code"),{defaultValue:null==o?void 0:o.swift_code}))))))):a().createElement(ve.x,{color:"gray.500",fontSize:"sm",mt:"4"},(0,w.__)("A withdrawal method hasn't been chosen yet. Kindly reach out to the Site Admin to select your preferred withdrawal option.","learning-management-system"))),(null===(i=xe.withdraw_methods)||void 0===i?void 0:i.length)&&a().createElement(zt.m,{display:"flex",justifyContent:"space-between",pb:"10",pt:"8",px:"10"},a().createElement(Ae.z,{colorScheme:"primary",variant:"outline",mr:3,onClick:s,isDisabled:h.isLoading},(0,w.__)("Cancel","learning-management-system")),a().createElement(Ae.z,{colorScheme:"primary",onClick:g(_),isLoading:h.isLoading},(0,w.__)("Save","learning-management-system")))))};var nn=n(51680),rn=n(80976),an={withdraws:"/masteriyo/v1/withdraws"};function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const sn=function(e){var t,n,r,l,i=e.data,o=(0,Ne.q)(),s=o.isOpen,u=o.onClose,m=o.onOpen,d=(0,tt.cI)(),g=d.register,p=d.handleSubmit,f=d.formState.errors,E=d.reset,y=(0,je.p)(),v=(0,c.useQueryClient)(),h=new qe(an.withdraws),_=null!==(t=null==i||null===(n=i.revenue_sharing)||void 0===n?void 0:n.minimum_withdraw_amount)&&void 0!==t?t:0,b=null!==(r=null==i||null===(l=i.revenue_sharing)||void 0===l?void 0:l.withdrawable_amount)&&void 0!==r?r:0,x=function(e){var t;C.mutate(on(on({},e),{},{withdraw_method:null===(t=i.revenue_sharing)||void 0===t?void 0:t.withdraw_method_preference}))},C=(0,c.useMutation)((function(e){return h.store(e)}),{onSuccess:function(){E(),v.invalidateQueries("withdrawsList"),u(),y({title:(0,w.__)("Withdraw request sent successfully","learning-management-system"),status:"success",isClosable:!0,containerStyle:{fontSize:"sm"}})},onError:function(e){E(),u(),y({title:(0,w.__)("Failed to send withdraw request","learning-management-system"),status:"success",isClosable:!0,description:e.message,containerStyle:{fontSize:"sm"}})}});return a().createElement(a().Fragment,null,a().createElement(Pt.u,{label:(0,w.__)("Insufficient balance","learning-management-system"),placement:"top",isDisabled:!!(b&&b>=_)},a().createElement(Ae.z,{isDisabled:!b||b<_,colorScheme:"primary",onClick:m},(0,w.__)("Withdraw Now","learning-management-system"))),a().createElement(Gt.u_,{isOpen:s,onClose:function(){u(),E()},isCentered:!0},a().createElement(St.Z,null),a().createElement(Yt.h,null,a().createElement(kt.x,{px:"10",pt:"10"},(0,w.__)("Withdraw Request","learning-management-system")),a().createElement($t.o,null),a().createElement(Ot.f,{px:"10"},a().createElement("form",{onSubmit:p(x)},a().createElement(Ye.NI,{isInvalid:!(null==f||!f.withdraw_amount)},a().createElement($e.l,null,(0,w.__)("Amount","learning-management-system")),a().createElement(pt.B,null,a().createElement(nn.Ui,null,xe.currency.symbol),a().createElement(rn.Y2,{flex:"1"},a().createElement(rn.zu,(0,we.Z)({},g("withdraw_amount",{valueAsNumber:!0,required:(0,w.__)("Amount is required","learning-management-system"),validate:function(e){var t,n;return _&&e<_?(0,w.sprintf)((0,w.__)("Amount must be at least %s","learning-management-system"),null==i||null===(t=i.revenue_sharing)||void 0===t?void 0:t.minimum_withdraw_amount_formatted):!(e>b)||(0,w.sprintf)((0,w.__)("Amount must be at most %s","learning-management-system"),null==i||null===(n=i.revenue_sharing)||void 0===n?void 0:n.withdrawable_amount_formatted)}}),{defaultValue:void 0,borderRadius:"0"})),a().createElement(rn.Fi,null,a().createElement(rn.WQ,null),a().createElement(rn.Y_,null)))),(null==f?void 0:f.withdraw_amount)&&a().createElement(yt.J1,null,null==f?void 0:f.withdraw_amount.message)))),a().createElement(zt.m,{px:"10",display:"flex",justifyContent:"space-between",pb:"10",pt:"8"},a().createElement(Ae.z,{colorScheme:"primary",variant:"outline",mr:3,onClick:u,isDisabled:C.isLoading},(0,w.__)("Cancel","learning-management-system")),a().createElement(Ae.z,{colorScheme:"primary",isLoading:C.isLoading,onClick:p(x)},(0,w.__)("Submit","learning-management-system"))))))};var cn={e_check:(0,w.__)("E-Check","learning-management-system"),bank_transfer:(0,w.__)("Bank Transfer","learning-management-system"),paypal:(0,w.__)("PayPal","learning-management-system")};const un=function(){var e,t,n,r,l,i,o,s,u=new qe(qt.currentUser),m=(0,c.useQuery)("userProfile",(function(){return u.get()})),d=(0,Ne.q)(),g=d.isOpen,p=d.onOpen,f=d.onClose,E=null!==(e=null===(t=m.data)||void 0===t||null===(t=t.revenue_sharing)||void 0===t||null===(t=t.withdraw_method_preference)||void 0===t?void 0:t.method)&&void 0!==e?e:"";return m.isLoading||!m.isFetched?a().createElement(Ht,null):a().createElement(H.xu,null,a().createElement(G.K,{direction:["column","row","row"],justify:"space-between",align:"center",mb:"5"},a().createElement(G.K,{direction:{base:"column",sm:"column",md:"row",lg:"row"},align:"center",spacing:"4"},a().createElement(Bt,{title:(0,w.__)("Total Balance","learning-management-system"),subtitle:null!==(n=null===(r=m.data)||void 0===r||null===(r=r.revenue_sharing)||void 0===r?void 0:r.available_amount_formatted)&&void 0!==n?n:xe.currency.symbol+"0",colorScheme:"primary",icon:a().createElement(_e.iFN,null)}),a().createElement(Bt,{title:(0,w.__)("Withdrawable Balance","learning-management-system"),subtitle:null!==(l=null===(i=m.data)||void 0===i||null===(i=i.revenue_sharing)||void 0===i?void 0:i.withdrawable_amount_formatted)&&void 0!==l?l:xe.currency.symbol+"0",colorScheme:"green",icon:a().createElement(_e.AoD,null)}),a().createElement(Bt,{title:(0,w.__)("Withdraw Method","learning-management-system"),subtitle:a().createElement(G.K,{direction:"row",align:"center",spacing:"2"},a().createElement(ve.x,null,null!==(o=null==cn?void 0:cn[E])&&void 0!==o?o:(0,w.__)("Not set","learning-management-system")),a().createElement(Ae.z,{fontWeight:"normal",size:"xs",onClick:p,colorScheme:"primary",variant:"outline"},(0,w.__)("Edit","learning-management-system"))),colorScheme:"cyan",icon:a().createElement(Qt.gJq,null)}))),a().createElement(sn,{data:m.data}),a().createElement(tn,{data:null===(s=m.data)||void 0===s||null===(s=s.revenue_sharing)||void 0===s?void 0:s.withdraw_method_preference,isOpen:g,onClose:f}))};var mn=n(64952);const dn=function(e){var t=e.message;return a().createElement(mn.Tr,null,a().createElement(mn.Td,null,a().createElement(G.K,{direction:"row",spacing:"1",align:"center"},a().createElement(Nt.J,{as:_e.Fs0,color:"primary.400"}),a().createElement(ve.x,{as:"span",fontWeight:"medium",color:"gray.600",fontSize:"sm"},t))),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null))};var gn=function(e){return e.Approved="approved",e.Pending="pending",e.Rejected="rejected",e}({});const pn=function(){return a().createElement(a().Fragment,null,[1,2,3,4,5].map((function(e){return a().createElement(mn.Tr,{key:e},a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})),a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})),a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})),a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})))})))};var fn={e_check:(0,w.__)("E-Check","learning-management-system"),bank_transfer:(0,w.__)("Bank Transfer","learning-management-system"),paypal:(0,w.__)("PayPal","learning-management-system")};const En=function(){var e,t,n=new qe(an.withdraws),l=(0,r.useState)({instructor:xe.current_user_id}),i=(0,_.Z)(l,2),o=i[0],s=i[1],u=(0,c.useQuery)(["withdrawsList",o],(function(){return n.list(o)}),{keepPreviousData:!0});return a().createElement(G.K,{spacing:"8"},a().createElement(H.xu,{mt:"4"},a().createElement(mn.iA,null,a().createElement(mn.hr,null,a().createElement(mn.Tr,null,a().createElement(mn.Th,null,(0,w.__)("Requested On","learning-management-system")),a().createElement(mn.Th,null,(0,w.__)("Amount","learning-management-system")),a().createElement(mn.Th,null,(0,w.__)("Withdraw Method","learning-management-system")),a().createElement(mn.Th,null,(0,w.__)("Status","learning-management-system")))),a().createElement(mn.p3,null,u.isLoading||!u.isFetched?a().createElement(pn,null):u.isSuccess&&!T(null==u||null===(e=u.data)||void 0===e?void 0:e.data)?null===(t=u.data)||void 0===t?void 0:t.data.map((function(e){var t,n,r;return a().createElement(mn.Tr,{key:e.id},a().createElement(mn.Td,null,a().createElement(ve.x,{fontSize:"sm",color:"gray.600"},e.date_created)),a().createElement(mn.Td,null,a().createElement(ve.x,{fontSize:"sm",color:"gray.600"},e.withdraw_amount)),a().createElement(mn.Td,null,a().createElement(ve.x,{fontSize:"sm",color:"gray.600"},null!==(t=null==fn?void 0:fn[null!==(n=null===(r=e.withdraw_method)||void 0===r?void 0:r.method)&&void 0!==n?n:""])&&void 0!==t?t:"")),a().createElement(mn.Td,null,a().createElement(It.C,{colorScheme:e.status===gn.Approved?"green":e.status===gn.Rejected?"red":e.status===gn.Pending?"yellow":"gray"},e.status)))})):a().createElement(dn,{message:(0,w.__)("No withdraw requests found","learning-management-system")})))),u.isSuccess&&!T(u.data.meta)&&a().createElement(Ze,{metaData:u.data.meta,setFilterParams:s,perPageText:(0,w.__)("Withdraws Per Page:","learning-management-system"),extraFilterParams:{instructor:xe.current_user_id}}))};const yn=function(){return a().createElement(H.xu,null,a().createElement(un,null),a().createElement(H.xu,{mt:"10"},a().createElement(Zt.m,null,a().createElement(Kt.t,{borderBottom:"1px",borderColor:"gray.100",flexWrap:"wrap"},a().createElement(Mt.O,{sx:{fontWeight:"medium",py:["2","4"],fontSize:["xs",null,"sm"],px:["1","2","4"]}},(0,w.__)("Withdraw Requests History","learning-management-system"))),a().createElement(Jt.n,null,a().createElement(Xt.x,{px:"0"},a().createElement(En,null))))))};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n={"#masteriyo-account-container":{p:{mb:0},ul:{li:{a:{textDecoration:"none",color:"gray.700",":hover":{color:"primary.500"},"&.active":{color:"primary.500"}}}},table:{tr:{"td, th":{border:"none",px:"2",a:{textDecoration:"none"}}}},".chakra-tabs__tablist":{button:{bg:"none"}},".copy-from":{bg:"none"}}},bn={input:function(e){return hn(hn({},e),{},{border:"none !important",boxShadow:"none !important",padding:"0 !important",minH:"auto !important",lineHeight:"initial !important",bg:"transparent !important"})},dropdownIndicator:function(e){return hn(hn({},e),{},{background:"transparent",px:"3"})},option:function(e){return hn({},e)},placeholder:function(e){return hn(hn({},e),{},{color:"mto-placeholder"})},multiValue:function(e){return hn({},e)}},wn=n(39728),xn=n(50151),Cn=n(73791),Sn=n(72303),kn=n(74574),On=n(82509),zn=n(5674),In=n(94160),Pn=n(38138),Nn=n(55788),jn=n(37106),An=n(32837);const Tn=function(e){var t=e.id,n=e.title,r=e.created_at,l=(e.type,e.status),i=e.description,o=e.showBorderBottom,s=(0,c.useQueryClient)(),u=new qe(qt.notifications),m=(0,c.useMutation)((function(e){return u.update(t,e)}),{onSuccess:function(){s.invalidateQueries("notification")}}),d=function(e){m.mutate({id:e,status:"read"})};return a().createElement(me.W,{sx:{display:"flex",alignItems:"center",paddingY:"5",paddingX:"5",lastOfType:{borderColor:"transparent"},"&:hover":{cursor:"pointer",transform:"scale(1.01)",transition:"transform 0.4s ease-in-out"}},key:t,onClick:function(){return d(t)},bgColor:"read"===l?"transparent":"gray.50",borderBottomWidth:o?1:0,borderBottomColor:"gray.300",margin:0,p:0},a().createElement(he.X2,{style:{width:"100%",margin:0},align:"start"},a().createElement(he.JX,{xs:1},a().createElement(Pt.u,{label:(0,w.__)("read"===l?"Already Read":"Not Read","learning-management-system")},a().createElement("span",null,a().createElement(Nn.FuB,{size:25,color:"read"===l?"red":"green"})))),a().createElement(he.JX,{xs:11},a().createElement(H.xu,null,a().createElement(Y.X,{as:"h5",fontSize:"medium",mb:"1",color:"read"!==l?"black":"gray"},n),a().createElement(ve.x,{fontSize:"small",color:"gray.600",fontWeight:500},i)),a().createElement(H.xu,{mt:3,display:"flex"},a().createElement(An.Z,{datetime:(0,w.sprintf)((0,w.__)("%s UTC","learning-management-system"),r),live:!1,style:{fontWeight:600,fontSize:10,color:"red",cursor:"default"}}),"read"!==l&&a().createElement(a().Fragment,null,a().createElement(jn.mY6,null),a().createElement(Ae.z,{variant:"link",onClick:function(e){e.stopPropagation(),d(t)},leftIcon:a().createElement(Pn.z7z,{color:"green",size:13}),isDisabled:"read"===l},a().createElement(ve.x,{_hover:{color:"primary",textDecoration:"none"},fontWeight:600,fontSize:10,color:"black",ml:-1},(0,w.__)("read"===l?"Previously read":"Mark as read","learning-management-system"))))))))};const Dn=function(e){var t,n,r=e.showModifiedNotificationIcon,l=void 0===r||r,i=new qe(qt.notifications),o=(0,c.useQuery)(["notification"],(function(){return i.list()})),s=o.isSuccess?o.data.data.filter((function(e){return"read"!==e.status})).length:0,u=(0,c.useQueryClient)(),m=o.isSuccess?o.data.data.map((function(e){return e.id.toString()})):null,d=(0,c.useMutation)((function(e){return i.bulkDelete("delete",{ids:e})}),{onSuccess:function(){u.invalidateQueries("notification")}}),g=(0,c.useMutation)((function(e){return i.bulkUpdate("update",{ids:m})}),{onSuccess:function(){u.invalidateQueries("notification")}}),p=o.isSuccess&&T(null==o||null===(t=o.data)||void 0===t?void 0:t.data);return a().createElement(H.xu,{sx:{position:"relative",top:"0",right:"0"}},a().createElement(wn.J,{placement:"bottom-end"},a().createElement(xn.x,null,a().createElement("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},a().createElement(Pt.u,{label:(0,w.__)("Notifications","learning-management-system")},a().createElement(Et.h,{color:l?"primary.600":"gray.500",variant:"outline",fontSize:"xl",icon:0==s?a().createElement(_e.Lok,null):a().createElement(_e.bE0,null),"aria-label":(0,w.__)("Open Notification Panel","learning-management-system"),isRound:!0,size:"md",borderColor:"transparent",background:l?"gray.200":"transparent",borderRadius:"50%",border:"none",outline:"none",width:"35px",height:"35px"})),s>0&&a().createElement(H.xu,{position:"relative",backgroundColor:"red.500",w:"22px",h:"22px",top:"-14px",right:"12px",color:"#ffff",fontSize:"sm",fontWeight:"bold",borderRadius:"full",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},s>9?9:s,s>9&&a().createElement(Le.wEH,{size:8})))),a().createElement(Cn.y,{borderRadius:15,width:["sm","md"]},a().createElement(Sn.Q,null),a().createElement(kn.Y,{fontWeight:"semibold",fontSize:"lg",textAlign:"center"},(0,w.__)("Notifications","learning-management-system")),a().createElement(On.b,{padding:0},a().createElement(zn.M,{columns:1,spacing:0,maxH:"400px",overflowY:"auto",overflowX:"hidden"},p?a().createElement(H.xu,{m:6},a().createElement(se.b,{status:"info"},a().createElement(ce.z,null),(0,w.__)("No notifications found.","learning-management-system"))):o.isSuccess&&(null==o||null===(n=o.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.map((function(e,t){var n;return a().createElement(H.xu,{key:e.id,p:0,borderRadius:"full"},a().createElement(Tn,{created_at:e.created_at,title:e.title,id:e.id,type:e.type,status:e.status,description:e.description,showBorderBottom:t!==(null==o||null===(n=o.data)||void 0===n?void 0:n.data.length)-1}))}))))),!p&&a().createElement(In.D,null,a().createElement(et.h,{justifyContent:"flex-end",display:"flex"},a().createElement(Ae.z,{leftIcon:a().createElement(Pn.z7z,{size:15,color:"green"}),size:"xs",variant:"ghost",_hover:{color:"primary.500",bg:"none"},onClick:function(){g.mutate({})},isDisabled:0===s},(0,w.__)("Mark all as read","learning-management-system")),a().createElement(Ae.z,{leftIcon:a().createElement(Nn.$iT,{size:15,color:"red"}),size:"xs",variant:"ghost",_hover:{color:"primary.500",bg:"none"},onClick:function(){if(o.isSuccess&&o.data.data.length>0){var e=o.data.data.map((function(e){return e.id.toString()}));d.mutate(e)}},isDisabled:p},(0,w.__)("Clear All","learning-management-system")))))))};var Rn=n(31847),Ln=n(32883),Fn=n(2585),Wn=function(e){try{var t=(0,s.select)("addOns").getAddons().find((function(t){return t.slug===e}));return null==t?void 0:t.active}catch(e){return!1}};const Zn={dashboard:"/dashboard",addons:"/addons",user:{profile:"/user/profile",edit:"/user/edit-user",sessionInformation:"/user/session-information"},courses:"/courses",order:{list:"/order-history",view:"/order-history/:orderId"},withdraw:"/withdraw",groups:"/groups"};const Kn=function(){return a().createElement(ge.aV,{mr:{base:"0",sm:"0",md:"4",lg:"6"},flex:{base:"0 0 30px",sm:"0 0 50px",md:"0 0 90px",lg:"0 0 200px"},spacing:"6"},[1,2,3,4,5,6].map((function(e){return a().createElement(ge.HC,{key:e},a().createElement(de.k,{direction:{xs:"column",sm:"column",md:"column",lg:"row"},alignItems:"center",gap:2},a().createElement(Rt.s,{size:"4"}),a().createElement(Dt.N,{noOfLines:1,flex:12,display:{base:"none",sm:"none",md:"block",lg:"block"}})))})))};const Mn=function(){var e=(0,fe.TH)(),t=new qe(qt.currentUser),n=new qe(qt.userLogout),l=(0,c.useQuery)("userProfile",(function(){return t.get()})),i=(0,Ne.q)(),o=i.onClose,s=i.onOpen,u=i.isOpen,m=(0,r.useState)(!1),d=(0,_.Z)(m,2),g=d[0],p=d[1],f=a().useRef(),E=(0,He.S)({base:"base",sm:"sm",md:"md",lg:"lg"}),y={borderRight:"2px",display:"block",borderColor:"transparent",color:"gray.600",fontWeight:"medium",textDecoration:"none",_hover:{color:"primary.500"}},v={borderColor:"primary.500",color:"primary.500"},h=Wn("gamipress-integration"),b=function(e,t){return a().createElement(G.K,{alignItems:"lg"===E?"center":"normal",direction:{base:"column",sm:"column",md:"column",lg:"row"},spacing:"4"},function(n){return"sm"===n||"md"===n?a().createElement(Pt.u,{label:e,fontSize:"md",placement:"left"},a().createElement(H.xu,null,a().createElement(ge.DE,{fontSize:{base:"md",sm:"lg",md:"lg",lg:"md"},mr:"3",as:t}))):a().createElement(ge.DE,{fontSize:{base:"md",sm:"lg",md:"lg",lg:"md"},mr:"3",as:t})}(E),a().createElement(ve.x,{display:{base:"none",sm:"none",md:"none",lg:"block"}},e))};if(l.isSuccess){var x,C,S,k,O,z,I,P,N,j,A,T,D,R=function(e){return h?a().createElement(ze,{location:e,renderPoint:function(e){return a().createElement(G.K,{direction:"row",spacing:2,align:"flex-start"},a().createElement(U.M,{w:"7",h:"7",p:1,rounded:"xs",color:"cyan.500"},e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"auto",borderRadius:"3px"}):null),a().createElement(G.K,{direction:"column",spacing:0},a().createElement(Y.X,{size:"xs",color:"gray.700",fontWeight:"normal",margin:0},e.plural_name),a().createElement(ve.x,{color:"gray.800",fontWeight:"medium",fontSize:"md"},e.points)))},renderRank:function(e){return a().createElement(G.K,{direction:"row",spacing:2,align:"flex-start"},a().createElement(U.M,{w:"7",h:"7",p:1,rounded:"xs",color:"cyan.500"},e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"auto",borderRadius:"3px"}):null),a().createElement(G.K,{direction:"column",spacing:0},a().createElement(Y.X,{size:"xs",color:"gray.800",margin:0,fontWeight:"normal"},e.singular_name),a().createElement(ve.x,{color:"gray.700",fontWeight:"medium",fontSize:"md"},e.rank)))},renderAchievement:function(e){return a().createElement(G.K,{direction:"row",spacing:2,align:"center"},a().createElement(U.M,{w:"7",h:"7",p:1,rounded:"xs",color:"cyan.500"},e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"auto",borderRadius:"3px"}):null),a().createElement(Y.X,{size:"xs",fontWeight:"normal",color:"gray.800",margin:0},e.label))},render:function(e){return a().createElement(G.K,{spacing:"4",pl:3,pr:4,py:4,bg:"#F3F7FF"},e)}}):null};return a().createElement(ge.aV,{mr:{base:"0",sm:"0",md:"0",lg:"6"},flex:{base:"0 0 30px",sm:"0 0 50px",md:"0 0 50px",lg:"0 0 200px"},borderRight:"1px",borderRightColor:"gray.100",spacing:"6",fontSize:"sm",fontWeight:"medium",color:"gray.600",className:"mto-account-sidebar"},a().createElement(ge.HC,null,a().createElement(G.K,{direction:["column","column","column","row"],display:"flex",justify:"space-between"},a().createElement(G.K,null,a().createElement(G.K,{direction:"row",style:{alignItems:"flex-start"},spacing:"3",w:"full"},a().createElement(Pt.u,{fontSize:"md",placement:"left",label:"sm"===E||"md"===E?null==l||null===(x=l.data)||void 0===x?void 0:x.username:""},a().createElement(Rn.q,{size:"sm",name:null==l||null===(C=l.data)||void 0===C?void 0:C.first_name,src:null==l||null===(S=l.data)||void 0===S||null===(S=S.profile_image)||void 0===S?void 0:S.url,showBorder:!0,shadow:"md",ml:{base:"-5px",sm:"-5px",md:0,lg:0}})),a().createElement(G.K,{direction:"column",spacing:"0",display:{base:"none",sm:"none",md:"block",lg:"block"},pr:3},a().createElement(Y.X,{display:{base:"none",sm:"none",md:"none",lg:"block"},as:"h5",fontSize:"sm",fontWeight:"medium",position:"absolute",mt:2},null!=l&&null!==(k=l.data)&&void 0!==k&&k.first_name&&null!=l&&null!==(O=l.data)&&void 0!==O&&O.last_name?"".concat(null==l||null===(z=l.data)||void 0===z?void 0:z.first_name," ").concat(null==l||null===(I=l.data)||void 0===I?void 0:I.last_name):null==l||null===(P=l.data)||void 0===P?void 0:P.username),h?R(ke.BELOW_USERNAME):null)),a().createElement(H.xu,{pr:3},h?R(ke.BELOW_AUTHOR_SECTION):null)))),a().createElement(ge.HC,null,a().createElement(Ln.r,{as:pe.OL,sx:y,_activeLink:v,to:Zn.dashboard},b((0,w.__)("Dashboard","learning-management-system"),_e.Zm3))),null!=l&&null!==(N=l.data)&&void 0!==N&&N.roles.includes("masteriyo_instructor")&&"yes"===xe.isInstructorActive?a().createElement(a().Fragment,null,a().createElement(Ge.i,null),a().createElement(ge.HC,null,a().createElement(Ln.r,{sx:y,href:xe.urls.addNewCourse},b((0,w.__)("Add Course","learning-management-system"),_e.poH))),a().createElement(ge.HC,null,a().createElement(Ln.r,{sx:y,href:xe.urls.myCourses},b((0,w.__)("My Courses","learning-management-system"),_e.KbO))),a().createElement(ge.HC,null,a().createElement(Ln.r,{sx:y,href:xe.urls.webhooks},b((0,w.__)("My Webhooks","learning-management-system"),Fn.dt9))),"yes"===xe.is_revenue_sharing_enabled&&a().createElement(ge.HC,null,a().createElement(Ln.r,{as:pe.OL,sx:y,_activeLink:v,to:Zn.withdraw},b((0,w.__)("Withdraw","learning-management-system"),_e.cf2))),a().createElement(Ge.i,null)):null,a().createElement(ge.HC,null,a().createElement(Ln.r,{as:pe.OL,sx:y,_activeLink:v,to:Zn.courses},b((0,w.__)("Your Courses","learning-management-system"),_e.lOc))),a().createElement(ge.HC,null,a().createElement(Ln.r,{as:pe.OL,sx:null!==(j=e.pathname)&&void 0!==j&&j.includes("/user")?v:y,_activeLink:v,to:Zn.user.profile},b((0,w.__)("Profile","learning-management-system"),_e.EDj))),Wn("group-courses")&&a().createElement(ge.HC,null,a().createElement(Ln.r,{as:pe.OL,sx:y,_activeLink:v,to:Zn.groups},b((0,w.__)("Groups","learning-management-system"),_e.p$$))),"no"==xe.isCurrentUserAdmin&&a().createElement(ge.HC,null,a().createElement(Ln.r,{as:pe.OL,sx:null!==(A=e.pathname)&&void 0!==A&&A.includes("/user-session-information")?v:y,_activeLink:v,to:Zn.user.sessionInformation},b((0,w.__)("Session Information","learning-management-system"),_e.EDj))),null!==(T=xe.gamipress)&&void 0!==T&&T.ui_placements?null===(D=xe.gamipress)||void 0===D?void 0:D.ui_placements.filter((function(e){return e.location===ke.NEW_TAB})).map((function(t){var n;return a().createElement(ge.HC,{key:t.id},a().createElement(Ln.r,{as:pe.OL,sx:null!==(n=e.pathname)&&void 0!==n&&n.includes(Pe(t))?v:y,_activeLink:v,to:Pe(t)},t.title?b(t.title,t.reward_type===Ce.RANK?_e.DT4:t.reward_type===Ce.POINT?Qt.HsN:_e.L8J):""))})):null,xe.pagesVisibility.display.enable_history_page&&a().createElement(ge.HC,null,a().createElement(Ln.r,{as:pe.OL,sx:y,_activeLink:v,to:Zn.order.list},b((0,w.__)("Order History","learning-management-system"),_e.aNd))),a().createElement(ge.HC,null,a().createElement(Ln.r,{sx:y,onClick:s},b((0,w.__)("Logout","learning-management-system"),_e.XqV))),a().createElement(Ct.a,{isOpen:u,onClose:o,isCentered:!0,leastDestructiveRef:f},a().createElement(St.Z,null,a().createElement(Ct._,null,a().createElement(kt.x,null,(0,w.__)("Log Out","learning-management-system")),a().createElement(Ot.f,null,(0,w.__)("Do you really want to logout?","learning-management-system")),a().createElement(zt.m,null,a().createElement(et.h,null,a().createElement(Ae.z,{onClick:o,variant:"outline",ref:f},(0,w.__)("Cancel","learning-management-system")),a().createElement(Ae.z,{colorScheme:"red",onClick:function(){p(!0),n.get().then((function(e){p(!1),window.location.href=null==e?void 0:e.redirect_url}))},isLoading:g},(0,w.__)("Logout","learning-management-system"))))))))}return a().createElement(Kn,null)};var Jn=n(13990),Xn=n(40607);const Qn=function(){var e=new qe(qt.currentUser),t=new qe(qt.userLogout),n=(0,c.useQueryClient)(),r=(0,c.useQuery)("userProfile",(function(){return e.get()})).data,l=function(){t.get().then((function(e){window.location.href=null==e?void 0:e.redirect_url}))},i=new qe(qt.manage_user_session),o=(0,c.useMutation)((function(e){return i.store(e)}),{onSuccess:function(e){var t;console.log("success"),null!==(t=o.variables)&&void 0!==t&&t.is_current&&location.reload(),n.invalidateQueries("userProfile")},onError:function(e){console.log("error")}});return a().createElement(a().Fragment,null,a().createElement(G.K,{direction:"column",spacing:"8",className:"mto-user-session-wrapper"},a().createElement(G.K,{direction:"row",align:"center",justify:"space-between"},a().createElement(Y.X,{as:"h4",size:"md",fontWeight:"bold",color:"primary.900"},(0,w.__)("Logged In Session","learning-management-system"))),a().createElement(a().Fragment,null,a().createElement(zn.M,{columns:{base:1,sm:1,md:2,lg:3},spacing:"6",className:"mto-user-session-list"},null==r?void 0:r.user_sessions_info.map((function(e){var t;return a().createElement(Jn.Z,{maxW:"sm",key:e.umeta_id},a().createElement(Xn.e,null,a().createElement(G.K,{mt:"6",spacing:"3"},a().createElement(ye.U,{justifyContent:"space-between"},a().createElement(ve.x,{as:"h2",fontSize:"24"},e.device_info.device,",",e.device_info.os),e.is_current&&a().createElement(Pt.u,{label:(0,w.__)("Currently active","learning-management-system")},a().createElement(H.xu,{backgroundColor:"darkgreen",padding:"5px",borderRadius:"50px"}))),a().createElement(ve.x,{color:"blue.600",fontSize:"sm",pb:"14px"},e.human_readable_date)),a().createElement(et.h,{spacing:"2"},a().createElement(Ae.z,{variant:"solid",colorScheme:"red",onClick:e.is_current?l:function(){return o.mutate(e)},isLoading:e.umeta_id===(null===(t=o.variables)||void 0===t?void 0:t.umeta_id)&&o.isLoading},"Sign Out"))))}))))))};var Vn=n(72250),qn=n(51649);const Bn=function(e){var t,n=e.isOpen,l=e.onClose,i=e.courseId,o=e.ajaxNonce,s=e.ajaxUrl,c=(0,r.useState)(!1),u=(0,_.Z)(c,2),m=u[0],d=u[1],g=(0,tt.cI)(),p=g.register,f=g.handleSubmit,E=g.formState.errors,y=(0,je.p)(),v=function(e){d(!0);var t=new FormData;t.append("action","masteriyo_course_password_protection"),t.append("nonce",o),t.append("course_id",i.toString()),t.append("password",e.password),Qe()({url:s,method:"POST",body:t}).then((function(e){d(!1),e.success?(y({title:(0,w.__)("Access Granted","learning-management-system"),description:(0,w.__)("You've successfully accessed the course.","learning-management-system"),status:"success",isClosable:!0}),l(),window.location=e.data.start_url):y({title:(0,w.__)("Access Denied","learning-management-system"),description:(0,w.__)("The password you entered is incorrect.","learning-management-system"),status:"error",isClosable:!0})})).catch((function(e){d(!1),y({title:(0,w.__)("Error","learning-management-system"),description:e.data&&e.data.message?e.data.message:(0,w.__)("An error occurred while verifying the password.","learning-management-system"),status:"error",isClosable:!0})}))};return a().createElement(Gt.u_,{isOpen:n,onClose:l,isCentered:!0,size:"lg"},a().createElement(St.Z,null),a().createElement(Yt.h,null,a().createElement(kt.x,null,(0,w.__)("Course Access","learning-management-system")),a().createElement($t.o,null),a().createElement(Ot.f,{pb:6},a().createElement(ve.x,{mb:4},(0,w.__)("This course is password protected. To access it please enter your password below:","your-text-domain")),a().createElement("form",{onSubmit:f(v)},a().createElement(Ye.NI,{isInvalid:!!E.password},a().createElement($e.l,null,(0,w.__)("Password","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"password"},p("password",{required:(0,w.__)("Password is required.","learning-management-system")}))),a().createElement(yt.J1,null,E.password&&(null===(t=E.password.message)||void 0===t?void 0:t.toString()))))),a().createElement(zt.m,null,a().createElement(et.h,null,a().createElement(Ae.z,{onClick:l,variant:"outline"},(0,w.__)("Cancel","learning-management-system")),a().createElement(Ae.z,{colorScheme:"blue",mr:3,onClick:f(v),isLoading:m,loadingText:(0,w.__)("Verifying...","learning-management-system")},(0,w.__)("Verify","learning-management-system"))))))};var Un=function(e){for(var t=e.split(/%s|%d|%f/g),n=[],r=0;r<t.length-1;r++)n.push(a().createElement(a().Fragment,{key:r+"_text"},t[r])),n.push(a().createElement(a().Fragment,{key:r+"_injected"},r+1<1||arguments.length<=r+1?void 0:arguments[r+1]));return t.length&&n.push(a().createElement(a().Fragment,{key:"last_item"},t[t.length-1])),a().createElement(a().Fragment,null,n)};const Hn=function(e){var t=e.courseName,n=e.onClose,l=e.isOpen,i=e.retakeUrl,o=(0,r.useState)(!1),s=(0,_.Z)(o,2),c=s[0],u=s[1],m=(0,r.useState)(""),d=(0,_.Z)(m,2),g=d[0],p=d[1],f=a().useRef(),E=function(){"CONFIRM"===g&&(u(!0),p(""),window.location.href=i)};return a().createElement(Ct.a,{isOpen:l,onClose:n,isCentered:!0,leastDestructiveRef:f,size:"2xl"},a().createElement(St.Z,null,a().createElement(Ct._,null,a().createElement(kt.x,null,(0,w.__)("Retake Course?","learning-management-system")),a().createElement(Ot.f,null,a().createElement(G.K,{spacing:4},a().createElement(ve.x,{as:"p"},Un((0,w.__)("Are you sure you want to retake the %s course? This action will permanently delete all your progress in this course.","learning-management-system"),a().createElement("strong",null,t))),a().createElement(G.K,null,a().createElement(ve.x,{as:"p"},Un((0,w.__)('Please type %s and click on "Yes" to proceed.',"learning-management-system"),a().createElement("strong",null,"CONFIRM"))),a().createElement(nt.I,{ref:f,type:"text",value:g,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),E())}})))),a().createElement(zt.m,null,a().createElement(et.h,null,a().createElement(Ae.z,{onClick:n,variant:"outline"},(0,w.__)("Cancel","learning-management-system")),a().createElement(Ae.z,{colorScheme:"primary",onClick:E,isLoading:c},(0,w.__)("Yes","learning-management-system")))))))};const Gn=function(e){var t=(0,r.useState)(!1),n=(0,_.Z)(t,2),l=n[0],i=n[1],o=e.courseData,s=o.course,u=o.started_at,m=new qe(qt.courseProgress),d=(0,Ne.q)(),g=d.onClose,p=d.onOpen,f=d.isOpen,E=(0,c.useQuery)(["courseProgress".concat(null==s?void 0:s.id),null==s?void 0:s.id],(function(){return m.store({course_id:null==s?void 0:s.id})}),{enabled:!(null==s||!s.id)}),y=function(){i(!0)};if(s){var v,h,b,x,C,S,k,O,z,I,P,j,A,D,R,L=function(){var e,t,n,r,a=null==E||null===(e=E.data)||void 0===e||null===(e=e.summary)||void 0===e||null===(e=e.total)||void 0===e?void 0:e.completed,l=null==E||null===(t=E.data)||void 0===t||null===(t=t.summary)||void 0===t||null===(t=t.total)||void 0===t?void 0:t.pending;return 0===a&&0===l?0:N(a)&&N(l)?(n=a,0===(r=l+a)?100:null===Math||void 0===Math?void 0:Math.round(n/r*100)):0}(),W=null==E||null===(v=E.data)||void 0===v?void 0:v.summary.total.completed,K=null==E||null===(h=E.data)||void 0===h||null===(h=h.summary)||void 0===h||null===(h=h.total)||void 0===h?void 0:h.completed,M=(null==E||null===(b=E.data)||void 0===b||null===(b=b.summary)||void 0===b||null===(b=b.total)||void 0===b?void 0:b.pending)+K;if(null!=E&&null!==(x=E.data)&&void 0!==x&&x.is_scorm_course_progress)W=L="completed"===(null==E||null===(R=E.data)||void 0===R?void 0:R.status)?100:0,M=100;return a().createElement(H.xu,{borderWidth:"1px",borderColor:"gray.100",className:"mto-enrolled-course"},a().createElement(H.xu,{as:"figure",pos:"relative"},a().createElement(Ee.E,{src:null==s?void 0:s.featured_image_url,alt:null==s?void 0:s.name,height:"180px",width:"100%",objectFit:"cover"}),(null==s?void 0:s.difficulty)&&a().createElement(ht.Vp,{pos:"absolute",top:"3",left:"3",bg:"primary.500",color:"white",borderRadius:"full",fontWeight:"medium",size:"sm"},a().createElement(ht.Sn,null,null==s||null===(C=s.difficulty)||void 0===C?void 0:C.name))),a().createElement(G.K,{direction:"column",p:"6",spacing:"3",className:"mto-enrolled-courses-list_main"},a().createElement(G.K,{direction:"column",spacing:"6"},a().createElement(G.K,{direction:"column",spacing:"3"},a().createElement(G.K,{direction:"row",spacing:"1"},null==s||null===(S=s.categories)||void 0===S?void 0:S.map((function(e){return a().createElement(ht.Vp,{key:e.id,colorScheme:"primary",size:"sm",borderRadius:"full",border:"1px",borderColor:"gray.200"},a().createElement(ht.Sn,null,null==e?void 0:e.name))}))),a().createElement(Y.X,{as:"h3",fontSize:"lg"},null==s?void 0:s.name),a().createElement(G.K,{direction:"row",spacing:"3",align:"center",justify:"space-between"},a().createElement(G.K,{direction:"row",spacing:"1",align:"center"},a().createElement(Rn.q,{src:null==s||null===(k=s.author)||void 0===k?void 0:k.avatar_url,size:"xs"}),a().createElement(ve.x,{fontSize:"xs",fontWeight:"bold"},null==s||null===(O=s.author)||void 0===O?void 0:O.display_name)),function(){for(var e=Number(s.average_rating),t=[],n=1;n<=5;n++)n<=e?t.push(a().createElement(Nt.J,{key:n,as:qn.hF5})):t.push(a().createElement(Nt.J,{key:n,as:qn.PHX}));return a().createElement(G.K,{direction:"row",spacing:"0",color:"orange.300"},t)}())),a().createElement(G.K,{direction:"row",justify:"space-between",align:"center",fontSize:"sm",fontWeight:"500",color:"gray.500"},a().createElement(G.K,{direction:"row",spacing:"1"},a().createElement(Nt.J,{as:_e.YFw,mt:"1"}),a().createElement(ve.x,null,Z(60*(null==s?void 0:s.duration)*1e3))),E.isSuccess&&!(null!=s&&s.google_classroom_course_url)&&a().createElement(ve.x,null,L,(0,w.__)("% Complete","learning-management-system"))),E.isSuccess&&a().createElement(H.xu,{mt:5},a().createElement(Vn.E,{rounded:"full",size:"xs",value:W,max:M})),a().createElement(G.K,{direction:"row",spacing:"4",justify:"space-between",align:"center",color:"gray.500",fontSize:"xs"},u&&a().createElement(ve.x,null,F(u,"m/d/Y")),a().createElement(ye.U,null,null!=s&&s.enable_course_retake&&"completed"===(null==E||null===(z=E.data)||void 0===z?void 0:z.status)&&!T(null==E||null===(I=E.data)||void 0===I?void 0:I.retake_url)?a().createElement(Ae.z,{size:"sm",variant:"link",textDecoration:"underline",onClick:p},(0,w.__)("Retake","learning-management-system")):null,s.google_classroom_course_url?a().createElement(Ln.r,{href:null==s?void 0:s.google_classroom_course_url},a().createElement(Ae.z,{title:"draft"===(null==s?void 0:s.status)?(0,w.__)("Course might be drafted.","learning-management-system"):"",size:"sm",borderRadius:"full",colorScheme:"primary",isDisabled:"draft"===(null==s?void 0:s.status),onClick:function(e){null!=s&&s.is_password_required&&(e.preventDefault(),y())},leftIcon:null!=s&&s.is_password_required?a().createElement(Nt.J,{as:_e.qlN,boxSize:4}):void 0},(0,w.__)("Classroom","learning-management-system")),l&&a().createElement(Bn,{isOpen:l,onClose:function(){return i(!1)},courseId:null==s?void 0:s.id,ajaxNonce:xe.PasswordProtectedNonce,ajaxUrl:xe.ajaxUrl})):a().createElement(Ln.r,{href:"progress"===(null==E||null===(P=E.data)||void 0===P?void 0:P.status)?null==s?void 0:s.continue_course_url:null==s?void 0:s.start_course_url},a().createElement(Ae.z,{title:"draft"===(null==s?void 0:s.status)?(0,w.__)("Course might be drafted.","learning-management-system"):"",size:"sm",borderRadius:"full",colorScheme:"primary",isDisabled:"draft"===(null==s?void 0:s.status),onClick:function(e){null!=s&&s.is_password_required&&(e.preventDefault(),y())},leftIcon:null!=s&&s.is_password_required?a().createElement(Nt.J,{as:_e.qlN,boxSize:4}):void 0},"completed"===(null==E||null===(j=E.data)||void 0===j?void 0:j.status)?(0,w.__)("Completed","learning-management-system"):"progress"===(null==E||null===(A=E.data)||void 0===A?void 0:A.status)?(0,w.__)("Continue","learning-management-system"):(0,w.__)("Start Course","learning-management-system")),l&&a().createElement(Bn,{isOpen:l,onClose:function(){return i(!1)},courseId:null==s?void 0:s.id,ajaxNonce:xe.PasswordProtectedNonce,ajaxUrl:xe.ajaxUrl}))),a().createElement(Hn,{courseName:null==s?void 0:s.name,retakeUrl:(null==E||null===(D=E.data)||void 0===D?void 0:D.retake_url)||"",isOpen:f,onClose:g})))))}return a().createElement(a().Fragment,null)};const Yn=function(){return a().createElement(G.K,{direction:"column",spacing:"8"},a().createElement(Dt.N,{noOfLines:1,w:"5rem"}),a().createElement(zn.M,{columns:{base:1,sm:1,md:2,lg:3},spacing:"6"},[1,2,3,4,6,7].map((function(e){return a().createElement(H.xu,{key:e,borderWidth:"1px",borderColor:"gray.100"},a().createElement(G.K,{direction:"column",spacing:"4",w:"100%"},a().createElement(Ut.O,{w:"100%",h:"15rem"}),a().createElement(Dt.N,{w:"90%",spacing:"4",alignSelf:"center",pb:"4"})))}))))};var $n=n(79078),er=n(14008),tr=n(36459),nr=n(45623),rr=n(22498);const ar=function(){var e=function(e){return a().createElement(Nt.J,{sx:{fontSize:"1.5rem"}},e)};return{Option:function(t){return a().createElement(rr.Z.Option,t,a().createElement(G.K,{direction:"row",spacing:"2"},t.data.icon&&e(t.data.icon),a().createElement(ve.x,null,t.label)))},SingleValue:function(t){return a().createElement(rr.Z.SingleValue,t,a().createElement(G.K,{direction:"row",spacing:"2"},t.data.icon&&e(t.data.icon),a().createElement(ve.x,null,t.data.label)))},DropdownIndicator:function(e){return a().createElement(rr.Z.DropdownIndicator,e,a().createElement(Nt.J,{as:_e.OrA}))}}};function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){var t=(0,we.Z)({},((0,tr.Z)(e),e)),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},bn);return a().createElement(nr.Z,(0,we.Z)({chakraStyles:n,components:ar(),colorScheme:"primary"},t))}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[],r=[],a=function n(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[];return e.filter((function(e){return e.parent_id===a.id&&e.id!==t})).forEach((function(e){r.push(e.id),i.push(sr(sr({},e),{},{depth:l})),i=i.concat(n(e,l+1))})),i};return e.filter((function(e){return 0===e.parent_id&&e.id!==t})).forEach((function(e){r.push(e.id),n.push(sr(sr({},e),{},{depth:0})),n=n.concat(a(e))})),n=e.filter((function(e){return!r.includes(e.id)})).map((function(e){return sr(sr({},e),{},{depth:0})})).concat(n)},ur=[{label:(0,w._x)("All","Course price text","learning-management-system"),value:"all"},{label:(0,w._x)("Paid","Course price text","learning-management-system"),value:"paid"}];const mr=function(e){var t=(0,r.useState)([]),n=(0,_.Z)(t,2),l=n[0],i=n[1],o=e.filterParams,s=e.setFilterParams,u=(0,tt.cI)(),m=u.handleSubmit,d=u.control,g=new qe(qt.categories),p=(0,c.useInfiniteQuery)("categoryLists",(function(e){var t=e.pageParam,n=void 0===t?1:t;return g.list({per_page:10,page:n})}),{retry:!1,getNextPageParam:function(e){return e.meta.current_page>=e.meta.pages?void 0:e.meta.current_page+1},onSuccess:function(e){var t,n=[];null==e||null===(t=e.pages)||void 0===t||t.forEach((function(e){e.data.forEach((function(e){n.push(e)}))})),i(cr(n).map((function(e){return{value:e.id,label:"— ".repeat(e.depth)+e.name}})))}}),f=p.hasNextPage,E=p.fetchNextPage,y=p.isFetchingNextPage,v=(0,er.H)({onTypeFinish:function(e){s({search:e,category:o.category,enrollmentStatus:o.enrollmentStatus,status:null==o?void 0:o.status})}},800),h=function(e){var t,n="";e.enrollmentStatus&&"all"===e.enrollmentStatus.value&&(n=""),e.enrollmentStatus&&"paid"===e.enrollmentStatus.value&&(n="paid"),s(L(D(e,{search:null==o?void 0:o.search,category:null===(t=e.category)||void 0===t?void 0:t.value,enrollmentStatus:n,status:null==o?void 0:o.status})))};return a().createElement(H.xu,null,a().createElement("form",{onChange:m(h)},a().createElement($n.r,{gridTemplateColumns:{md:"2.5fr 2.5fr 1.5fr"},gap:"4"},a().createElement(Ye.NI,null,a().createElement(nt.I,(0,we.Z)({placeholder:(0,w.__)("Search courses","learning-management-system")},v))),a().createElement(Ye.NI,null,a().createElement(tt.Qr,{name:"category",control:d,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a().createElement(ir,{placeholder:(0,w.__)("All Categories","learning-management-system"),onChange:function(){n.apply(void 0,arguments),m(h)()},value:r,closeMenuOnSelect:!0,isClearable:!0,options:l,isLoading:y,onMenuScrollToBottom:function(){f&&E()},noOptionsMessage:function(e){return e.inputValue.length>0?(0,w.__)("No categories found.","learning-management-system"):(0,w.__)("No categories.","learning-management-system")}})}})),a().createElement(Ye.NI,null,a().createElement(tt.Qr,{name:"enrollmentStatus",control:d,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a().createElement(ir,{onChange:function(){n.apply(void 0,arguments),m(h)()},isClearable:!0,value:r,options:ur,placeholder:(0,w.__)("Pricing","learning-management-system"),isSearchable:!1})}})))))};const dr=function(){var e,t,n,l=(0,r.useState)({status:"active"}),i=(0,_.Z)(l,2),o=i[0],s=i[1],u=new qe(qt.myCourses),m=(0,c.useQuery)(["myCourses",o],(function(){return u.list(o)}));return a().createElement(a().Fragment,null,a().createElement(G.K,{direction:"column",spacing:"8",className:"mto-enrolled-courses-wrapper"},a().createElement(G.K,{direction:"row",align:"center",justify:"space-between"},a().createElement(Y.X,{as:"h4",size:"md",fontWeight:"bold",color:"primary.900"},(0,w.__)("Your Courses","learning-management-system"))),a().createElement(mr,{setFilterParams:s,filterParams:o}),m.isSuccess&&a().createElement(a().Fragment,null,a().createElement(zn.M,{columns:{base:1,sm:1,md:2,lg:3},spacing:"6",className:"mto-enrolled-courses-list"},null==m||null===(e=m.data)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.map((function(e){return a().createElement(Gn,{key:e.id,courseData:e})}))),m.isSuccess?T(null==m||null===(t=m.data)||void 0===t?void 0:t.data)?a().createElement(se.b,{status:"info"},a().createElement(ce.z,null),(0,w.__)("You haven't enrolled to any courses yet.","learning-management-system"),a().createElement(et.h,{flex:"1",justifyContent:"flex-end"},a().createElement(Ln.r,{href:xe.urls.courses},a().createElement(Ae.z,{rounded:"full",colorScheme:"blue",variant:"solid"},(0,w.__)("View Courses","learning-management-system"))))):a().createElement(Ze,{metaData:null==m||null===(n=m.data)||void 0===n?void 0:n.meta,setFilterParams:s,extraFilterParams:{status:null==o?void 0:o.status},perPageText:(0,w.__)("Courses Per Page:","learning-management-system")}):null),m.isLoading&&a().createElement(Yn,null)))};var gr=n(18618),pr=n(53854);const fr=function(e){var t,n,l,i,o,s,u,m,d,g,p=(0,r.useState)(!1),f=(0,_.Z)(p,2),E=f[0],y=f[1],v=e.course,h=v.course,b=v.started_at,x=new qe(qt.courseProgress),C=(0,c.useQuery)(["courseProgress".concat(null==h?void 0:h.id),null==h?void 0:h.id],(function(){return x.store({course_id:null==h?void 0:h.id})}),{enabled:!(null==h||!h.id)});return a().createElement(H.xu,{p:"5",border:"1px",borderColor:"gray.100",className:"mto-continue-course"},a().createElement(G.K,{direction:{base:"column",sm:"column",md:"column",lg:"row"},spacing:"10",align:{base:"left",sm:"left",md:"left",lg:"center"},className:"mto-continue-course-content"},a().createElement(G.K,{direction:{base:"column",sm:"column",md:"row",lg:"row"},spacing:"4",mb:4,className:"mto-continue-course-content_left"},a().createElement(Ee.E,{w:{base:"100%",sm:"100%",md:"80px",lg:"80px"},src:null==h?void 0:h.featured_image_url,h:{base:"170px",sm:"180px",md:"50px",lg:"50px"}}),a().createElement(G.K,{direction:"column",spacing:"2",w:"120px"},a().createElement(G.K,{direction:{base:"column",sm:"row",md:"row",lg:"row"},spacing:"1",w:{sm:"20rem",md:"30rem",lg:"37rem"}},null==h||null===(t=h.categories)||void 0===t?void 0:t.map((function(e){return a().createElement(ht.Vp,{colorScheme:"primary",key:e.id,size:"sm",borderRadius:"full",border:"1px",borderColor:"gray.200"},a().createElement(ht.Sn,null,null==e?void 0:e.name))}))),a().createElement(ve.x,{fontSize:"md",fontWeight:"bold"},null==h?void 0:h.name),a().createElement(G.K,{direction:"row",spacing:"0.5",color:"gray.700",align:"center"},a().createElement(Nt.J,{as:_e.YFw}),a().createElement(ve.x,{fontSize:"xs",fontWeight:"medium"},Z(60*(null==h?void 0:h.duration)*1e3))))),a().createElement(G.K,{direction:{base:"column",sm:"column",md:"column",lg:"row"},align:{base:"left",sm:"left",md:"left",lg:"center"},justify:"space-between",flex:"1",className:"mto-continue-course-content_right"},a().createElement(G.K,{direction:"column",justifyContent:"center",spacing:"2",flex:"1"},C.isSuccess&&a().createElement(G.K,{direction:"row",spacing:"4",align:"center"},a().createElement(Vn.E,{size:"sm",rounded:"full",w:"full",value:null==C||null===(n=C.data)||void 0===n?void 0:n.summary.total.completed,max:(null==C||null===(l=C.data)||void 0===l?void 0:l.summary.total.completed)+(null==C||null===(i=C.data)||void 0===i?void 0:i.summary.total.pending)}),a().createElement(ve.x,{fontWeight:"medium",fontSize:"sm",w:"3xs"},0===(null==C||null===(o=C.data)||void 0===o||null===(o=o.summary)||void 0===o||null===(o=o.total)||void 0===o?void 0:o.completed)&&0===(null==C||null===(s=C.data)||void 0===s||null===(s=s.summary)||void 0===s||null===(s=s.total)||void 0===s?void 0:s.pending)?0:null===Math||void 0===Math?void 0:Math.round((null==C||null===(u=C.data)||void 0===u||null===(u=u.summary)||void 0===u||null===(u=u.total)||void 0===u?void 0:u.completed)/((null==C||null===(m=C.data)||void 0===m||null===(m=m.summary)||void 0===m||null===(m=m.total)||void 0===m?void 0:m.pending)+(null==C||null===(d=C.data)||void 0===d||null===(d=d.summary)||void 0===d||null===(d=d.total)||void 0===d?void 0:d.completed))*100),(0,w.__)("% Complete","learning-management-system"))),b&&a().createElement(ve.x,{color:"gray.500",fontSize:"xs"},(0,w.__)("Started on ","learning-management-system"),F(b,"m/d/Y"))),a().createElement(Ln.r,{href:"progress"===(null==C||null===(g=C.data)||void 0===g?void 0:g.status)?null==h?void 0:h.continue_course_url:null==h?void 0:h.start_course_url,style:{width:"fit-content"}},a().createElement(Ae.z,{title:"draft"===(null==h?void 0:h.status)?(0,w.__)("Course might be drafted.","learning-management-system"):"",isDisabled:"draft"===(null==h?void 0:h.status),colorScheme:"primary",boxShadow:"none",size:"sm",borderRadius:"full",textTransform:"uppercase",onClick:function(e){null!=h&&h.is_password_required&&(e.preventDefault(),y(!0))}},(0,w.__)("Continue","learning-management-system")),E&&a().createElement(Bn,{isOpen:E,onClose:function(){return y(!1)},courseId:null==h?void 0:h.id,ajaxNonce:xe.PasswordProtectedNonce,ajaxUrl:xe.ajaxUrl})))))};const Er=function(){var e=[1,2,3];return a().createElement(G.K,{direction:"column",spacing:"10"},a().createElement(G.K,{direction:{base:"column",sm:"column",md:"row",lg:"row"},spacing:"5"},e.map((function(e){return a().createElement(H.xu,{p:10,borderWidth:"1px",key:e,w:"100%"},a().createElement(G.K,{direction:"row"},a().createElement(Ut.O,{h:"4rem",w:"4rem"}),a().createElement(G.K,{flex:2,spacing:"5"},a().createElement(Dt.N,{noOfLines:1}),a().createElement(Rt.s,{size:"4"}))))}))),a().createElement(G.K,{direction:{base:"column",sm:"row",md:"row",lg:"row"},spacing:"4",justify:{base:"start",sm:"start",md:"start",lg:"space-between"},alignItems:{base:"left",sm:"left",md:"center",lg:"center"}},a().createElement(Dt.N,{noOfLines:1,w:"70px"}),a().createElement(Dt.N,{noOfLines:1,w:"70px"})),e.map((function(e){return a().createElement(H.xu,{key:e,p:"5",border:"1px",borderColor:"gray.100"},a().createElement(G.K,{direction:"row",spacing:"5"},a().createElement(Ut.O,{h:"5rem",w:"5rem"}),a().createElement(G.K,{direction:"column",flex:1},a().createElement(Dt.N,{spacing:4}))))})))};const yr=function(){var e,t,n,r,l,i=(0,gr.a)(["(min-width:1290px)","(min-width:992px)"]),o=(0,_.Z)(i,2),s=o[0],u=o[1],m=new qe(qt.myCourses),d=new qe(qt.courseProgress),g=Wn("gamipress-integration"),p=(0,c.useQuery)("dashboardCourseQuery",(function(){return m.list()})),f=(0,c.useQuery)("dashboardCourseProgress",(function(){return d.list({user_id:null==xe?void 0:xe.current_user_id})})),E=null==f||null===(e=f.data)||void 0===e?void 0:e.filter((function(e){return"progress"===e.status})).length,y=null==f||null===(t=f.data)||void 0===t?void 0:t.filter((function(e){return"completed"===e.status})).length,v=null==f||null===(n=f.data)||void 0===n?void 0:n.filter((function(e){return["progress"].includes(e.status)})),h=null==v?void 0:v.map((function(e){return e.course_id})),b=null==p||null===(r=p.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.filter((function(e){return null==h?void 0:h.includes(e.course.id)})),x=null==p||null===(l=p.data)||void 0===l||null===(l=l.meta)||void 0===l?void 0:l.total,C="row",S=2;return u&&(S=0),s&&(C="row",S=0,"xs"),p.isSuccess&&f.isSuccess?a().createElement(G.K,{direction:"column",spacing:"10",className:"mto-account-dashboard-wrapper"},g?a().createElement(he.X2,{gutterWidth:30,justify:"start",direction:C,style:{gap:S},className:"mto-dashboard-gamipress-stats"},a().createElement(ze,{location:ke.DASHBOARD_CARD,renderPoint:function(e,t){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.plural_name,count:e.points,icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"cyan"}))},renderRank:function(e){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.singular_name,count:e.rank,icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"cyan"}))},renderAchievement:function(e){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.label,count:"",icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"cyan"}))}})):null,a().createElement(he.X2,{gutterWidth:30,justify:"between",direction:C,style:{gap:S},className:"mto-dashboard-courses-stats"},a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:(0,w.__)("Enrolled Courses","learning-management-system"),count:x,icon:a().createElement(Nt.J,{as:Qt.R_f,fontSize:"xl"}),colorScheme:"cyan"})),a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:(0,w.__)("In Progress Courses","learning-management-system"),count:E,icon:a().createElement(Nt.J,{as:Qt.DRM,fontSize:"xl"}),colorScheme:"primary"})),a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:(0,w.__)("Completed Courses","learning-management-system"),count:y,icon:a().createElement(Nt.J,{as:pr.KT7,fontSize:"2xl"}),colorScheme:"green"}))),g?a().createElement(ze,{location:ke.DASHBOARD_NEW_SECTION,renderPoint:function(e,t){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.plural_name,count:e.points,icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"blackAlpha"}))},renderRank:function(e){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.singular_name,count:e.rank,icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"blackAlpha"}))},renderAchievement:function(e){return a().createElement(he.JX,{lg:4,md:12,sm:12},a().createElement(be,{title:e.label,count:"",icon:e.image_url?a().createElement(Ee.E,{src:e.image_url,width:"100%",height:"100%",borderRadius:"10px"}):null,noIconBackground:!0,colorScheme:"cyan"}))},wrapPlacementGroup:function(e,t){return a().createElement(G.K,{direction:"column",spacing:"8"},a().createElement(G.K,{direction:{base:"column",sm:"row",md:"row",lg:"row"},spacing:"4",justify:{base:"start",sm:"start",md:"start",lg:"space-between"},alignItems:{base:"left",sm:"left",md:"center",lg:"center"}},a().createElement(Y.X,{size:"md"},t.title)),a().createElement(he.X2,{gutterWidth:30,justify:"start",direction:C,style:{gap:S}},e))}}):null,a().createElement(G.K,{direction:"column",spacing:"8",className:"mto-dashboard-courses-progress"},a().createElement(G.K,{direction:{base:"column",sm:"row",md:"row",lg:"row"},spacing:"4",justify:{base:"start",sm:"start",md:"start",lg:"space-between"},alignItems:{base:"left",sm:"left",md:"center",lg:"center"}},a().createElement(Y.X,{size:"md"},(0,w.__)("Continue Studying","learning-management-system")),a().createElement(et.h,null,a().createElement(pe.rU,{to:Zn.courses},a().createElement(Ae.z,{rightIcon:a().createElement(qn.hjJ,{size:15,color:"gray.500"}),color:"gray.500",size:"sm",borderRadius:"full",borderColor:"gray.400",variant:"outline"},(0,w.__)("SHOW ALL","learning-management-system"))))),T(b)?a().createElement(se.b,{status:"info"},a().createElement(ce.z,null),(0,w.__)("You don't have any course in progress.","learning-management-system"),a().createElement(et.h,{flex:"1",justifyContent:"flex-end"},a().createElement(Ln.r,{href:xe.urls.courses},a().createElement(Ae.z,{rounded:"full",colorScheme:"blue",variant:"solid"},(0,w.__)("View Courses","learning-management-system"))))):null==b?void 0:b.map((function(e){return a().createElement(fr,{key:e.id,course:e})})))):a().createElement(Er,null)};var vr=n(81136);const hr=function(){return a().createElement(U.M,{h:"calc(100vh - 60px)"},a().createElement(vr.$,{size:"lg",color:"primary.500",emptyColor:"gray.200",thickness:"3px"}))};const _r=function(){var e=new qe(qt.orders),t=new qe(qt.order_items),n=new qe(qt.countries),r=new qe(qt.states),l=(0,fe.UO)().orderId,i=(0,je.p)(),o=(0,c.useQuery)("countries",(function(){return n.list()})),s=(0,c.useQuery)("states",(function(){return r.list()})),u=(0,c.useQuery)(["myOrder".concat(l),l],(function(){return e.get(l)})),m=(0,c.useQuery)("orderItemsList",(function(){return t.list({order_id:l})}),{onError:function(e){var t;i({description:"".concat(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message),isClosable:!0,status:"error"})}});if(u.isSuccess&&o.isSuccess&&s.isSuccess){var d,g,p,f,E,y,v,h,_,b,x,C,S,k,O,z,I,P,N=null==o?void 0:o.data.filter((function(e){var t;return e.code===(null==u||null===(t=u.data)||void 0===t||null===(t=t.billing)||void 0===t?void 0:t.country)})),j=null==s?void 0:s.data.filter((function(e){var t;return e.country===(null==u||null===(t=u.data)||void 0===t||null===(t=t.billing)||void 0===t?void 0:t.country)})),A=T(j)?{}:null===(d=j[0])||void 0===d?void 0:d.states.filter((function(e){var t;return e.code===(null==u||null===(t=u.data)||void 0===t||null===(t=t.billing)||void 0===t?void 0:t.state)}));return a().createElement(G.K,{direction:"column",spacing:"8",width:"full",className:"mto-orders-detail-wrapper"},a().createElement(Y.X,{as:"h4",size:"md",fontWeight:"bold",color:"primary.900"},(0,w.sprintf)((0,w.__)("Order #%s","learning-management-system"),null==u||null===(g=u.data)||void 0===g?void 0:g.id)),a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Date Created","learning-management-system")),a().createElement(ve.x,{fontSize:"sm"},F(null==u||null===(p=u.data)||void 0===p?void 0:p.date_created))),a().createElement(he.JX,null,a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("First Name","learning-management-system")),a().createElement(ve.x,null,null==u||null===(f=u.data)||void 0===f||null===(f=f.billing)||void 0===f?void 0:f.first_name)),a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Last Name","learning-management-system")),a().createElement(ve.x,null,null==u||null===(E=u.data)||void 0===E||null===(E=E.billing)||void 0===E?void 0:E.last_name))))),a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Status","learning-management-system")),a().createElement(ht.Vp,null,null==u||null===(y=u.data)||void 0===y?void 0:y.status)),a().createElement(he.JX,null,a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Email","learning-management-system")),a().createElement(ve.x,null,null==u||null===(v=u.data)||void 0===v||null===(v=v.billing)||void 0===v?void 0:v.email)),a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Phone Number","learning-management-system")),a().createElement(ve.x,null,null==u||null===(h=u.data)||void 0===h||null===(h=h.billing)||void 0===h?void 0:h.phone))))),a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Payment Method","learning-management-system")),a().createElement(ve.x,null,null==u||null===(_=u.data)||void 0===_?void 0:_.payment_method)),a().createElement(he.JX,null,a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Address 1","learning-management-system")),a().createElement(ve.x,null,null==u||null===(b=u.data)||void 0===b||null===(b=b.billing)||void 0===b?void 0:b.address_1)),a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Address 2","learning-management-system")),a().createElement(ve.x,null,null==u||null===(x=u.data)||void 0===x||null===(x=x.billing)||void 0===x?void 0:x.address_2))))),a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Transaction ID","learning-management-system")),a().createElement(ve.x,null,null==u||null===(C=u.data)||void 0===C?void 0:C.transaction_id)),a().createElement(he.JX,null,a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Company","learning-management-system")),a().createElement(ve.x,null,null==u||null===(S=u.data)||void 0===S||null===(S=S.billing)||void 0===S?void 0:S.company)),a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Postcode","learning-management-system")),a().createElement(ve.x,null,null==u||null===(k=u.data)||void 0===k||null===(k=k.billing)||void 0===k?void 0:k.postcode))))),a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null),a().createElement(he.JX,null,a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Country","learning-management-system")),a().createElement(ve.x,null,null===(O=N[0])||void 0===O?void 0:O.name)),a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("State","learning-management-system")),a().createElement(ve.x,null,null===(z=A[0])||void 0===z?void 0:z.name))))),a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null),a().createElement(he.JX,null,a().createElement(he.X2,{gutterWidth:30},a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("City","learning-management-system")),a().createElement(ve.x,null,null==u||null===(I=u.data)||void 0===I||null===(I=I.billing)||void 0===I?void 0:I.city)),a().createElement(he.JX,null,a().createElement($e.l,null,(0,w.__)("Customer Note","learning-management-system")),a().createElement(ve.x,null,null==u||null===(P=u.data)||void 0===P?void 0:P.customer_note))))),a().createElement(Ge.i,null),m.isSuccess&&m.data.map((function(e){var t;return a().createElement(G.K,{key:e.id,direction:"row",spacing:"6"},a().createElement(ve.x,{flexGrow:1,fontWeight:"semibold"},e.name),a().createElement(ve.x,{fontSize:"sm",fontWeight:"medium",color:"gray.600"},"x ",e.quantity),a().createElement(ve.x,{fontSize:"sm",fontWeight:"medium",color:"gray.600"},null==u||null===(t=u.data)||void 0===t?void 0:t.formatted_total))})))}return a().createElement(hr,null)};const br=function(){return a().createElement(mn.Tr,null,a().createElement(mn.Td,null,a().createElement(G.K,{direction:"row",spacing:"1",align:"center"},a().createElement(Nt.J,{as:_e.Fs0,color:"primary.400"}),a().createElement(ve.x,{as:"span",fontWeight:"medium",color:"gray.600",fontSize:"sm"},(0,w.__)("No orders found.","learning-management-system")))),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null),a().createElement(mn.Td,null))};var wr=n(68519),xr=n(9198),Cr=n.n(xr),Sr=(n(44308),n(8577));function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Or=function(e,t){var n=(0,we.Z)({},((0,tr.Z)(e),e)),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},bn);return a().createElement(Sr.Z,(0,we.Z)({chakraStyles:r,colorScheme:"primary",ref:t},n))};const zr=a().forwardRef(Or);const Ir=function(e){var t,n=e.setFilterParams,r=e.isCurrentUserAdmin,l=e.showUserFilter,i=void 0!==l&&l,o=(0,tt.cI)(),s=o.handleSubmit,u=o.setValue,m=o.control,d=(0,c.useQuery)("users",(function(){return p.list({orderby:"display_name",order:"asc",per_page:10})}),{enabled:!("yes"!==r||!i)}),g=function(e){var t,r,a,l={before:null==e||null===(t=e.before)||void 0===t?void 0:t.toISOString(),after:null==e||null===(r=e.after)||void 0===r?void 0:r.toISOString(),status:null==e||null===(a=e.status)||void 0===a?void 0:a.value};n(L(D(e,l)))},p=new qe(qt.users);return a().createElement(H.xu,{px:{base:6,md:12}},a().createElement("form",{onChange:s(g)},a().createElement($n.r,{gridTemplateColumns:{md:"yes"===r&&i?"repeat(3, 1fr)":"repeat(2, 1fr)"},gap:"4"},a().createElement(wr.P,null,a().createElement(tt.Qr,{control:m,name:"after",render:function(e){var t=e.field,n=t.onChange,r=t.value;return a().createElement(Cr(),{dateFormat:"yyyy-MM-dd",onChange:function(e){n(e),s(g)()},selected:r,customInput:a().createElement(nt.I,null),placeholderText:(0,w.__)("From","learning-management-system"),autoComplete:"off"})}})),a().createElement(wr.P,null,a().createElement(tt.Qr,{control:m,name:"before",render:function(e){var t=e.field,n=t.onChange,r=t.value;return a().createElement(Cr(),{dateFormat:"yyyy-MM-dd",onChange:function(e){n(e),s(g)()},selected:r,customInput:a().createElement(nt.I,null),placeholderText:(0,w.__)("To","learning-management-system"),autoComplete:"off"})}})),"yes"===r&&i&&a().createElement(wr.P,null,a().createElement(zr,{cacheOptions:!0,loadingMessage:function(){return(0,w.__)("Searching...","learning-management-system")},noOptionsMessage:function(e){var t=e.inputValue;return T(t)?d.isLoading?(0,w.__)("Loading...","learning-management-system"):(0,w.__)("Please enter one or more characters.","learning-management-system"):(0,w.__)("Users not found.","learning-management-system")},isClearable:!0,placeholder:(0,w.__)("Search by customer","learning-management-system"),onChange:function(e){u("customer",null==e?void 0:e.value),s(g)()},defaultOptions:d.isSuccess?null===(t=d.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.map((function(e){return{value:e.id,label:"".concat(e.display_name," (#").concat(e.id," - ").concat(e.email,")"),avatar_url:e.avatar_url}})):[],loadOptions:function(e,t){if(T(e))return t([]);p.list({search:e}).then((function(e){t(e.data.map((function(e){return{value:e.id,label:"".concat(e.display_name," (#").concat(e.id," - ").concat(e.email,")")}})))}))}})))))};var Pr=function(){return a().createElement(a().Fragment,null,[1,2,3,4,5,6,7,8,9,10].map((function(e){return a().createElement(mn.Tr,{key:e},a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})),a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})),a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})),a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})),a().createElement(mn.Td,null,a().createElement(Dt.N,{noOfLines:1})))})))},Nr=function(e){return e.Completed="completed",e.OnHold="on-hold",e.Failed="failed",e.Refunded="refunded",e.Cancelled="cancelled",e.Pending="pending",e.Trash="trash",e}({}),jr=function(e){return e.DEFAULT="not-applied",e.APPLIED="applied",e.REJECTED="rejected",e.APPROVED="approved",e}({});const Ar=function(e){var t,n,r,l,i=e.data,o=i.id,s=i.status,c=(i.total,i.currency_symbol,i.formatted_total),u=s==Nr.Completed?"green":s==Nr.OnHold?"orange":s==Nr.Pending?"yellow":s==Nr.Cancelled?"red":s==Nr.Refunded?"blue":s==Nr.Failed?"blackalpha":"gray";return a().createElement(mn.Tr,null,a().createElement(mn.Td,null,a().createElement(G.K,{direction:"column"},a().createElement(Ln.r,{as:pe.rU,to:Zn.order.view.replace(":orderId",o.toString()),fontWeight:"semibold",fontSize:"sm",_hover:{color:"primary.500"}},"#".concat(o," ").concat(null==i||null===(t=i.billing)||void 0===t?void 0:t.first_name," ").concat(null==i||null===(n=i.billing)||void 0===n?void 0:n.last_name)),a().createElement(ve.x,{fontSize:"xs",color:"gray.600"},null==i||null===(r=i.billing)||void 0===r?void 0:r.email))),a().createElement(mn.Td,null,a().createElement(ve.x,{fontSize:"sm",color:"gray.600"},null==i||null===(l=i.course_lines[0])||void 0===l?void 0:l.name)),a().createElement(mn.Td,null,a().createElement(G.K,{direction:"row",spacing:"2",alignItems:"center",color:"gray.600"},a().createElement(Nt.J,{as:_e.R1q}),a().createElement(ve.x,{fontSize:"sm",fontWeight:"medium"},F(null==i?void 0:i.date_created,"m/d/Y, h:i A")))),a().createElement(mn.Td,null,a().createElement(It.C,{colorScheme:u},s)),a().createElement(mn.Td,null,c))};const Tr=function(){var e,t,n,l,i=xe.isCurrentUserAdmin,o=(0,r.useState)({customer:null==xe?void 0:xe.current_user_id}),s=(0,_.Z)(o,2),u=s[0],m=s[1],d=new qe(qt.orders),g=(0,c.useQuery)(["ordersList",u],(function(){return d.list(u)}));return a().createElement(G.K,{direction:"column",spacing:"8",width:"full",className:"mto-orders-wrapper"},a().createElement(Y.X,{as:"h4",size:"md",fontWeight:"bold",color:"primary.900"},(0,w.__)("Order History","learning-management-system")),a().createElement(Ir,{setFilterParams:m,isCurrentUserAdmin:i}),a().createElement(mn.iA,null,a().createElement(mn.hr,null,a().createElement(mn.Tr,null,a().createElement(mn.Th,null,(0,w.__)("Order","learning-management-system")),a().createElement(mn.Th,null,(0,w.__)("Course","learning-management-system")),a().createElement(mn.Th,null,(0,w.__)("Date","learning-management-system")),a().createElement(mn.Th,null,(0,w.__)("Status","learning-management-system")),a().createElement(mn.Th,null,(0,w.__)("Total","learning-management-system")))),a().createElement(mn.p3,null,g.isLoading&&a().createElement(Pr,null),g.isSuccess&&T(null==g||null===(e=g.data)||void 0===e?void 0:e.data)?a().createElement(br,null):null==g||null===(t=g.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.map((function(e){return a().createElement(Ar,{key:e.id,data:e})})))),g.isSuccess&&!T(null==g||null===(n=g.data)||void 0===n?void 0:n.data)?a().createElement(Ze,{metaData:null==g||null===(l=g.data)||void 0===l?void 0:l.meta,setFilterParams:m,perPageText:(0,w.__)("Orders Per Page:","learning-management-system")}):null)};var Dr=n(66712),Rr=n(27449),Lr=n(91170),Fr=n(4040),Wr=n(39252),Zr=n(65028);const Kr=function(e){var t,n,r,l,i,o=e.country,s=e.state,c=e.countriesQuery,u=e.statesQuery,m=(0,tt.qo)({name:"billing.country",defaultValue:o}),d=(0,tt.Gc)(),g=d.register,p=d.formState.errors,f=null==u?void 0:u.data.filter((function(e){return e.country===m}));return a().createElement(a().Fragment,null,a().createElement(Ye.NI,{isInvalid:!(null==p||null===(t=p.billing)||void 0===t||!t.country),className:"mto-profile-edit-form-billing-country"},a().createElement($e.l,null,(0,w.__)("Country","learning-management-system")),a().createElement(Re.P,(0,we.Z)({},g("billing.country"),{defaultValue:o}),a().createElement("option",{value:""},(0,w.__)("Select a country","learning-management-system")),null==c?void 0:c.data.map((function(e){return a().createElement("option",{value:e.code,key:e.code},e.name)}))),(null==p||null===(n=p.billing)||void 0===n?void 0:n.country)&&a().createElement(yt.J1,null,null==p||null===(r=p.billing)||void 0===r?void 0:r.country.message)),a().createElement(Ye.NI,{isInvalid:!(null==p||null===(l=p.billing)||void 0===l||!l.state),className:"mto-profile-edit-form-billing-state"},a().createElement($e.l,null,(0,w.__)("State","learning-management-system")),a().createElement(Re.P,(0,we.Z)({},g("billing.state"),{defaultValue:s}),T(f)?a().createElement("option",null,(0,w.__)("No state found","learning-management-system")):f[0].states.map((function(e){return a().createElement("option",{value:e.code,key:e.code},e.name)}))),(null==p||null===(i=p.billing)||void 0===i?void 0:i.state)&&a().createElement(yt.J1,null,null==p?void 0:p.billing.state.message)))};const Mr=function(){var e=(0,tt.cI)(),t=e.register,n=e.handleSubmit,l=e.watch,i=e.formState.errors,o=(0,r.useRef)({});o.current=l("password","");var s=new qe(qt.currentUser),u=(0,je.p)(),m=(0,c.useMutation)((function(e){return s.store(e)}),{onSuccess:function(){u({title:(0,w.__)("Password Successfully Changed","learning-management-system"),isClosable:!0,status:"success"})},onError:function(){u({title:(0,w.__)("Password cannot be changed","learning-management-system"),description:(0,w.__)("Please make sure your old password is correct","learning-management-system"),isClosable:!0,status:"error"})}});return a().createElement("form",{onSubmit:n((function(e){m.mutate(e)}))},a().createElement(G.K,{spacing:"9",w:"100%"},a().createElement(Y.X,{as:"h4",size:"lg",fontWeight:"medium"},(0,w.__)("Change Password","learning-management-system")),a().createElement(G.K,{direction:"column",spacing:"8",w:{base:"100%",sm:"100%",md:"50%",lg:"50%"}},a().createElement(Ye.NI,{isInvalid:!(null==i||!i.password)},a().createElement($e.l,null,(0,w.__)("Current Password","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"password"},t("old_password",{required:(0,w.__)("This field cannot be empty","learning-management-system")}))),(null==i?void 0:i.old_password)&&a().createElement(yt.J1,null,null==i?void 0:i.old_password.message)),a().createElement(Ye.NI,{isInvalid:!(null==i||!i.password)},a().createElement($e.l,null,(0,w.__)("New Password","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"password"},t("password",{required:(0,w.__)("This field cannot be empty","learning-management-system")}))),(null==i?void 0:i.password)&&a().createElement(yt.J1,null,null==i?void 0:i.password.message)),a().createElement(Ye.NI,{isInvalid:!(null==i||!i.confirm_password)},a().createElement($e.l,null,(0,w.__)("Confirm New Password","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"password"},t("confirm_password",{required:(0,w.__)("This field cannot be empty","learning-management-system"),validate:function(e){return e===o.current||(0,w.__)("The passwords do not match","learning-management-system")}}))),(null==i?void 0:i.confirm_password)&&a().createElement(yt.J1,null,null==i?void 0:i.confirm_password.message)))),a().createElement(G.K,{py:"10"},a().createElement(et.h,null,a().createElement(Ae.z,{colorScheme:"primary",rounded:"full",type:"submit",px:"19",textTransform:"uppercase"},(0,w.__)("Change Password","learning-management-system")))))};const Jr=function(){var e,t,n,l,i,o,s,u,m,d,g,p,f,E,y,v,h,_,b,x,C,S,k,O,z,I,P,N,j,A,T,D,R,F,W,Z,K,M,J=(0,je.p)(),X=new qe(qt.currentUser),Q=new qe(qt.profileImage),V=new qe(qt.states),q=new qe(qt.countries),B=(0,r.useRef)(null),H=(0,c.useQuery)("userProfile",(function(){return X.get()})),$=(0,c.useQuery)("countries",(function(){return q.list()})),ee=(0,c.useQuery)("states",(function(){return V.list()})),te=(0,tt.cI)({reValidateMode:"onChange",mode:"onChange"}),ne=te.register,re=te.handleSubmit,ae=te.formState.errors,le=te.setValue,ie=te.getValues,oe=(0,c.useMutation)((function(e){return X.store(e)}),{onSuccess:function(){H.refetch(),J({title:(0,w.__)("Profile Updated","learning-management-system"),isClosable:!0,status:"success"})}}),se={fontWeight:"medium",fontSize:"sm",py:"4",px:0,mr:4,_hover:{color:"primary.500"}},ce={px:"0"},ue=(0,c.useMutation)((function(e){var t=new FormData;return t.append("image_data",e),Q.updateProfileImage(t)}),{onSuccess:function(){H.refetch(),J({title:(0,w.__)("Profile Image Updated","learning-management-system"),isClosable:!0,status:"success"})}}),me=(0,c.useMutation)((function(){return Q.deleteResource()}),{onSuccess:function(){H.refetch(),J({title:(0,w.__)("Profile Image Deleted.","learning-management-system"),isClosable:!0,status:"success"})}});return null!=H&&H.isSuccess&&$.isSuccess&&ee.isSuccess?a().createElement(tt.RV,te,a().createElement(G.K,{spacing:"8",className:"mto-edit-profile-wrapper"},a().createElement(Zt.m,null,a().createElement(G.K,{spacing:"8"},a().createElement(Kt.t,null,a().createElement(Mt.O,{sx:se},(0,w.__)("Edit Profile","learning-management-system")),a().createElement(Mt.O,{sx:se},(0,w.__)("Password  & Security","learning-management-system")),a().createElement(Ln.r,{as:pe.rU,to:Zn.user.profile,ml:"auto",mt:"3"},a().createElement(Ae.z,{leftIcon:a().createElement(_e.gbs,{size:15,color:"gray.500"}),color:"gray.500",size:"sm",borderRadius:"full",borderColor:"gray.400",variant:"outline"},(0,w.__)("View Profile","learning-management-system")))),a().createElement(Jt.n,null,a().createElement(Xt.x,{sx:ce,className:"mto-edit-profile-tab"},a().createElement("form",{onSubmit:re((function(e){oe.mutate(L(e))}))},a().createElement(G.K,{direction:"column",spacing:"6"},a().createElement(U.M,{pos:"relative"},ue.isLoading?a().createElement(Rt.s,{size:"28"}):a().createElement(Rn.q,{size:"2xl",fontSize:"3xl",name:null==H||null===(e=H.data)||void 0===e?void 0:e.first_name,src:null==H||null===(t=H.data)||void 0===t||null===(t=t.profile_image)||void 0===t?void 0:t.url,background:"none",className:"mto-profile-image"},a().createElement(Dr.v,null,a().createElement(Rr.M,{boxSize:"1.25em",bg:"gray.300",rounded:"full"},a().createElement(Lr.j,{border:"4px solid",borderColor:"white",_hover:{bg:"primary.500",color:"white"},as:Et.h,icon:a().createElement(_e.Hlf,null),rounded:"full",variant:"ghost",fontSize:"md",color:"gray.700"})),a().createElement(Fr.q,{fontSize:"sm"},a().createElement(Wr.s,{color:"gray.600",icon:a().createElement(_e.AM0,null),onClick:function(){B.current.click()}},a().createElement("input",{hidden:!0,type:"file",id:"file",ref:B,accept:".jpg, .jpeg, .png",onChange:function(e){ue.mutate(e.target.files[0])}}),(0,w.__)("Upload","learning-management-system")),a().createElement(Wr.s,{color:"gray.600",icon:a().createElement(_e.SW4,null),onClick:function(){me.mutate()}},(0,w.__)("Remove","learning-management-system")))))),a().createElement(zn.M,{columns:{base:1,sm:1,md:2,lg:2},spacing:"6"},a().createElement(Ye.NI,{isInvalid:!(null==ae||!ae.first_name),className:"mto-profile-edit-form-firstname"},a().createElement($e.l,null,(0,w.__)("First Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"text",defaultValue:null==H||null===(n=H.data)||void 0===n?void 0:n.first_name},ne("first_name",{required:(0,w.__)("This field cannot be empty","learning-management-system")}))),(null==ae?void 0:ae.first_name)&&a().createElement(yt.J1,null,null==ae?void 0:ae.first_name.message)),a().createElement(Ye.NI,{isInvalid:!(null==ae||!ae.last_name),className:"mto-profile-edit-form-lastname"},a().createElement($e.l,null,(0,w.__)("Last Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({defaultValue:null==H||null===(l=H.data)||void 0===l?void 0:l.last_name,type:"text"},ne("last_name",{required:(0,w.__)("This field cannot be empty","learning-management-system")}))),(null==ae?void 0:ae.last_name)&&a().createElement(yt.J1,null,null==ae?void 0:ae.last_name.message))),a().createElement(G.K,null,a().createElement(Ye.NI,{isInvalid:!(null==ae||!ae.email),className:"mto-profile-edit-form-email"},a().createElement($e.l,null,(0,w.__)("Email","learning-management-system")),a().createElement(nt.I,(0,we.Z)({defaultValue:null==H||null===(i=H.data)||void 0===i?void 0:i.email,type:"email"},ne("email",{required:(0,w.__)("This field cannot be empty","learning-management-system")}))),(null==ae?void 0:ae.email)&&a().createElement(yt.J1,null,null==ae?void 0:ae.email.message))),a().createElement(Y.X,{fontSize:"lg",borderBottom:"1px",borderColor:"gray.100",py:"6",className:"mto-profile-edit-form-billing-heading"},(0,w.__)("Billing","learning-management-system"),a().createElement(Pt.u,{label:(0,w.__)("Copy from the profile","learning-management-system")},a().createElement(Et.h,{fontSize:"md",variant:"link",className:"copy-from","aria-label":(0,w.__)("Copy from the profile","learning-management-system"),icon:a().createElement(_e.LhG,null),onClick:function(){le("billing.first_name",ie("first_name")),le("billing.last_name",ie("last_name"))}}))),a().createElement(zn.M,{columns:{base:1,sm:1,md:2,lg:2},spacing:"6"},a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(o=ae.billing)||void 0===o||!o.first_name),className:"mto-profile-edit-form-billing-firstname"},a().createElement($e.l,null,(0,w.__)("First Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"text",defaultValue:null==H||null===(s=H.data)||void 0===s||null===(s=s.billing)||void 0===s?void 0:s.first_name},ne("billing.first_name"))),(null==ae?void 0:ae.first_name)&&a().createElement(yt.J1,null,null==ae?void 0:ae.first_name.message)),a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(u=ae.billing)||void 0===u||!u.last_name),className:"mto-profile-edit-form-billing-lastname"},a().createElement($e.l,null,(0,w.__)("Last Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({defaultValue:null==H||null===(m=H.data)||void 0===m||null===(m=m.billing)||void 0===m?void 0:m.last_name,type:"text"},ne("billing.last_name"))),(null==ae?void 0:ae.last_name)&&a().createElement(yt.J1,null,null==ae?void 0:ae.last_name.message))),a().createElement(G.K,null,a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(d=ae.billing)||void 0===d||!d.phone),className:"mto-profile-edit-form-billing-contact"},a().createElement($e.l,null,(0,w.__)("Contact Number","learning-management-system")),a().createElement(nt.I,(0,we.Z)({defaultValue:null==H||null===(g=H.data)||void 0===g?void 0:g.billing.phone,type:"number"},ne("billing.phone"))),(null==ae||null===(p=ae.billing)||void 0===p?void 0:p.phone)&&a().createElement(yt.J1,null,null==ae||null===(f=ae.billing)||void 0===f?void 0:f.phone.message))),a().createElement(zn.M,{columns:{base:1,sm:1,md:2,lg:2},spacing:"6"},a().createElement(Kr,{country:null==H||null===(E=H.data)||void 0===E||null===(E=E.billing)||void 0===E?void 0:E.country,state:null==H||null===(y=H.data)||void 0===y||null===(y=y.billing)||void 0===y?void 0:y.state,countriesQuery:$,statesQuery:ee}),a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(v=ae.billing)||void 0===v||!v.city),className:"mto-profile-edit-form-billing-city"},a().createElement($e.l,null,(0,w.__)("City","learning-management-system")),a().createElement(nt.I,(0,we.Z)({defaultValue:null==H||null===(h=H.data)||void 0===h||null===(h=h.billing)||void 0===h?void 0:h.city,type:"text"},ne("billing.city"))),(null==ae||null===(_=ae.billing)||void 0===_?void 0:_.city)&&a().createElement(yt.J1,null,null==ae?void 0:ae.billing.city.message)),a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(b=ae.billing)||void 0===b||!b.postcode),className:"mto-profile-edit-form-billing-zip"},a().createElement($e.l,null,(0,w.__)("Zip Code","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"number",defaultValue:null==H||null===(x=H.data)||void 0===x||null===(x=x.billing)||void 0===x?void 0:x.postcode},ne("billing.postcode"))),(null==ae||null===(C=ae.billing)||void 0===C?void 0:C.postcode)&&a().createElement(yt.J1,null,null==ae||null===(S=ae.billing)||void 0===S?void 0:S.postcode.message)),a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(k=ae.billing)||void 0===k||!k.address_1),className:"mto-profile-edit-form-billing-address-1"},a().createElement($e.l,null,(0,w.__)("Address 1","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"type",defaultValue:null==H||null===(O=H.data)||void 0===O?void 0:O.billing.address_1},ne("billing.address_1"))),(null==ae||null===(z=ae.billing)||void 0===z?void 0:z.address_1)&&a().createElement(yt.J1,null,null==ae||null===(I=ae.billing)||void 0===I?void 0:I.address_1.message)),a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(P=ae.billing)||void 0===P||!P.address_2),className:"mto-profile-edit-form-billing-address-2"},a().createElement($e.l,null,(0,w.__)("Address 2","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"type",defaultValue:null==H||null===(N=H.data)||void 0===N?void 0:N.billing.address_2},ne("billing.address_2"))),(null==ae||null===(j=ae.billing)||void 0===j?void 0:j.address_2)&&a().createElement(yt.J1,null,null==ae||null===(A=ae.billing)||void 0===A?void 0:A.address_2.message)),a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(T=ae.billing)||void 0===T||!T.company_name),className:"mto-profile-edit-form-billing-company-name"},a().createElement($e.l,null,(0,w.__)("Company Name","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"type",defaultValue:null==H||null===(D=H.data)||void 0===D?void 0:D.billing.company_name},ne("billing.company_name"))),(null==ae||null===(R=ae.billing)||void 0===R?void 0:R.company_name)&&a().createElement(yt.J1,null,null==ae||null===(F=ae.billing)||void 0===F?void 0:F.company_name.message)),a().createElement(Ye.NI,{isInvalid:!(null==ae||null===(W=ae.billing)||void 0===W||!W.company_id),className:"mto-profile-edit-form-billing-company-id"},a().createElement($e.l,null,(0,w.__)("Company VAT Number","learning-management-system")),a().createElement(nt.I,(0,we.Z)({type:"type",defaultValue:null==H||null===(Z=H.data)||void 0===Z?void 0:Z.billing.company_id},ne("billing.company_id"))),(null==ae||null===(K=ae.billing)||void 0===K?void 0:K.company_id)&&a().createElement(yt.J1,null,null==ae||null===(M=ae.billing)||void 0===M?void 0:M.company_id.message))),a().createElement(Zr.L,null),a().createElement(et.h,null,a().createElement(Ae.z,{colorScheme:"primary",isLoading:null==oe?void 0:oe.isLoading,rounded:"full",type:"submit",px:"19"},(0,w.__)("SAVE","learning-management-system")))))),a().createElement(Xt.x,{sx:ce,className:"mto-password-security-tab"},a().createElement(Mr,null))))))):a().createElement(hr,null)};var Xr=n(53978),Qr=n(8193),Vr=n(70231),qr=function(e){var t=e.imageUrl,n=e.onDeleteClick,l=e.onQRHoverOptionChange,i=e.onRegenerateClick,o=e.qrHoverOptionsEnabled,s=e.qrProcessInProgress,c=e.onCopyLinkClick,u=e.onDownloadClick,m=e.hasCopied,d=(0,r.useMemo)((function(){return[{tooltip:"Regenerate login QR",operation:i,Icon:Qr.EXI,placement:"top-end"},{tooltip:"Delete login QR",operation:n,Icon:_e.SW4,color:"red",placement:"top-start"}]}),[n,i]);return a().createElement(G.K,{spacing:2,position:"relative"},a().createElement(H.xu,{position:"relative",onMouseOver:function(){return l(!0)},mx:"auto",cursor:"pointer"},a().createElement(Ee.E,{src:t,alt:(0,w.__)("QR Code","learning-management-system"),mt:4}),a().createElement(H.xu,{borderRadius:2,onMouseOut:function(){return l(!1)},position:"absolute",top:2,left:0,width:"100%",height:"100%",backgroundColor:"blackAlpha.700",zIndex:1,my:"auto",opacity:o?1:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.3s ease-in-out",onClick:c},s?a().createElement(vr.$,{size:"xl",color:"white"}):a().createElement(a().Fragment,null,a().createElement(ve.x,{fontSize:"small",color:"white",fontWeight:600,textAlign:"center",display:"flex",alignItems:"center"},m&&a().createElement(Vr.l_A,{style:{marginRight:5}}),(0,w.__)(m?"Link copied successfully":"Click to copy link","learning-management-system")),a().createElement(de.k,{position:"absolute",top:1,right:1,bg:"white",p:1,alignItems:"center"},d.map((function(e,t){var n=e.Icon,r=e.operation,l=e.tooltip,i=e.color,o=e.placement;return a().createElement(a().Fragment,null,0!==t&&a().createElement(jn.mY6,null),a().createElement(Pt.u,{label:(0,w.__)(l,"learning-management-system"),placement:o||"top-end"},a().createElement("span",null,a().createElement(n,{color:i,size:20,onClick:function(e){e.stopPropagation(),r()}}))))})))))),a().createElement(Pt.u,{label:(0,w.__)("Download QR Code","learning-management-system")},a().createElement(Ae.z,{leftIcon:a().createElement(_e.yf7,null),onClick:u,colorScheme:"primary",my:4},(0,w.__)("Download","learning-management-system"))))};const Br=a().memo(qr);const Ur=function(e){var t=e.isOpen,n=e.onClose,l=(0,tt.cI)().handleSubmit,i=(0,Xr.V)(""),o=i.onCopy,s=i.value,u=i.setValue,m=i.hasCopied,d=(0,je.p)(),g=(0,c.useQueryClient)(),p=new qe(qt.QRLogin),f=(0,r.useState)(!1),E=(0,_.Z)(f,2),y=E[0],v=E[1],h=(0,c.useQuery)("loginQR".concat(null==xe?void 0:xe.current_user_id),(function(){return p.list()}),{enabled:t}),b=h.data,x=h.isSuccess,C=h.isLoading,S=(0,r.useMemo)((function(){return x&&(null==b?void 0:b.qr_img_url)}),[x,null==b?void 0:b.qr_img_url]),k=(0,c.useMutation)((function(){return p.store({})}),{onSuccess:function(){g.invalidateQueries("loginQR".concat(null==xe?void 0:xe.current_user_id)),d({title:(0,w.__)("QR Code regenerated.","learning-management-system"),status:"success",duration:5e3,isClosable:!0})},onError:function(e){d({title:(0,w.__)("Error","learning-management-system"),description:(0,w.__)(e instanceof Error?e.message:(0,w.__)("An error occurred while generating the QR code.","learning-management-system"),"learning-management-system"),status:"error",isClosable:!0})}}),O=(0,c.useMutation)((function(){return p.deleteResource()}),{onSuccess:function(){g.invalidateQueries("loginQR".concat(null==xe?void 0:xe.current_user_id)),d({title:(0,w.__)("QR login link deleted successfully.","learning-management-system"),isClosable:!0,status:"success"})},onError:function(e){d({title:(0,w.__)("Error","learning-management-system"),description:(0,w.__)(e instanceof Error?e.message:(0,w.__)("An error occurred while deleting QR Login Link.","learning-management-system"),"learning-management-system"),status:"error",isClosable:!0})}}),z=(0,r.useMemo)((function(){return k.isLoading||O.isLoading}),[k.isLoading,O.isLoading]),I=(0,r.useCallback)((function(e){return v(e)}),[]);return(0,r.useEffect)((function(){s&&o()}),[s]),a().createElement(Gt.u_,{isOpen:t,onClose:n,size:"2xl",isCentered:!0},a().createElement(St.Z,null),a().createElement(Yt.h,null,a().createElement("form",{onSubmit:l((function(e){k.mutate()}))},a().createElement(kt.x,null,(0,w.__)("Login QR","learning-management-system")),a().createElement($t.o,null),a().createElement(Ot.f,null,a().createElement(de.k,{direction:"column",align:"center",justify:"center",minHeight:S?"200px":"auto"},C?a().createElement(a().Fragment,null,a().createElement(G.K,{spacing:2,position:"relative",mt:4},a().createElement(Ut.O,{height:"190px",width:"190px"}),a().createElement(Ut.O,{height:"40px",mt:4}))):S?a().createElement(Br,{imageUrl:null==b?void 0:b.qr_img_url,onQRHoverOptionChange:I,qrHoverOptionsEnabled:y,qrProcessInProgress:z,onCopyLinkClick:function(){if(null!=b&&b.login_url){if((null==b?void 0:b.login_url)===s)return void o();u(b.login_url)}},onDownloadClick:function(){if(null!=b&&b.qr_img_url){var e=document.createElement("a");e.href=b.qr_img_url,e.download="QRLogin.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},onDeleteClick:function(){return O.mutate()},onRegenerateClick:function(){return k.mutate()},hasCopied:m}):a().createElement(Pt.u,{label:(0,w.__)("Generate login QR","learning-management-system")},a().createElement(Ae.z,{onClick:function(){return k.mutate()},isLoading:k.isLoading,colorScheme:"primary",my:4,leftIcon:a().createElement(Te.hLd,null)},(0,w.__)("Generate QR","learning-management-system")))),xe.QRLoginAttentionMessage?a().createElement(de.k,{my:6,alignItems:"center"},a().createElement(_t.Dup,{size:20,color:"red"}),a().createElement(ve.x,{ml:2,textAlign:"center",fontWeight:"bold"},(0,w.__)(xe.QRLoginAttentionMessage,"learning-management-system"))):null))))};const Hr=function(){var e=(0,Ne.q)(),t=e.isOpen,n=e.onOpen,r=e.onClose;return a().createElement(a().Fragment,null,a().createElement(Ae.z,{leftIcon:a().createElement(_e.ntE,{size:15,color:"gray.500"}),color:"gray.500",size:"sm",borderRadius:"full",borderColor:"gray.400",variant:"outline",onClick:n},(0,w.__)("Login QR","learning-management-system")),t&&a().createElement(Ur,{isOpen:t,onClose:r}))};const Gr=function(){return a().createElement(G.K,{direction:{base:"column",sm:"column",md:"row",lg:"row"},spacing:"6"},a().createElement(Rt.s,{size:"40"}),a().createElement(G.K,{direction:"column",spacing:"20",flex:"1",mt:"30px !important"},a().createElement(Dt.N,{noOfLines:1,width:"60px"}),a().createElement(G.K,{direction:"column",spacing:"5"},[1,2,3].map((function(e){return a().createElement(G.K,{key:e},a().createElement(Ut.O,{height:"30px"}),a().createElement(Ut.O,{height:"30px"}),a().createElement(Ut.O,{height:"30px"}),a().createElement(Ge.i,null))})))))};const Yr=function(){var e,t,n,r,l,i,o,s,u,m,d,g,p=(0,je.p)(),f=new qe(qt.currentUser),E=new qe(qt.applyForInstructor),y=(0,c.useQuery)("userProfile",(function(){return f.get()})),v=y.data,h=y.isSuccess,_=y.refetch,b=(0,c.useMutation)((function(e){var t=new FormData;return t.append("user_id",e),E.updateInstructorApplyStatus(t)}),{onSuccess:function(){p({title:(0,w.__)("Applied for instructor successfully.","learning-management-system"),isClosable:!0,status:"success"}),_()}}),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return a().createElement(G.K,{p:"12px 40px",bg:n?"#f8f9fa":"",marginTop:"0px !important",direction:{base:"column",sm:"row",md:"row",lg:"row"},justifyContent:"space-between",className:"mto-profile-user-detail"+r},a().createElement(ve.x,{className:"mto-profile-user-detail_left"+r},e),a().createElement(ve.x,{className:"mto-profile-user-detail_right"+r},t))};return h?a().createElement(G.K,{direction:"column",spacing:"8",width:"full",className:"mto-profile-wrapper"},a().createElement(de.k,{justify:"space-between"},a().createElement(Y.X,{as:"h4",size:"md",fontWeight:"bold",color:"primary.900"},(0,w.__)("Profile","learning-management-system")),a().createElement(et.h,null,"yes"===xe.isQRLoginEnabled&&a().createElement(Hr,null),a().createElement(pe.rU,{to:Zn.user.edit},a().createElement(Ae.z,{leftIcon:a().createElement(_e.Hlf,{size:15,color:"gray.500"}),color:"gray.500",size:"sm",borderRadius:"full",borderColor:"gray.400",variant:"outline"},(0,w.__)("Edit Profile","learning-management-system"))))),jr.REJECTED===(null==v?void 0:v.instructor_apply_status)?a().createElement(se.b,{status:"error"},a().createElement(ce.z,null),(0,w.__)("Your application for instructor status has been rejected.","learning-management-system")):null,a().createElement(G.K,{className:"mto-profile-details",direction:{base:"column",sm:"column",md:"row",lg:"row"},spacing:"6"},a().createElement(Rn.q,{src:null==v||null===(e=v.profile_image)||void 0===e?void 0:e.url,size:"2xl",className:"mto-profile-user-avatar"}),a().createElement(G.K,{direction:"column",spacing:"8",flex:"1",className:"mto-profile-wrapper"},a().createElement(ve.x,{as:"h3",fontSize:"4xl",fontWeight:"medium"},null!=v&&v.first_name&&null!=v&&v.last_name?"".concat(null==v?void 0:v.first_name," ").concat(null==v?void 0:v.last_name):null==v?void 0:v.username),(null==v?void 0:v.roles.includes("masteriyo_student"))&&a().createElement(et.h,{alignItems:"center"},a().createElement(Ae.z,{leftIcon:a().createElement(_e.i77,{size:15,color:"gray.500"}),color:"gray.500",size:"sm",isLoading:null==b?void 0:b.isLoading,borderRadius:"full",borderColor:"gray.400",variant:"outline",onClick:function(){return b.mutate(v.id)},isDisabled:jr.APPLIED===(null==v?void 0:v.instructor_apply_status)},jr.APPLIED===(null==v?void 0:v.instructor_apply_status)?(0,w.__)("Applied for Instructor","learning-management-system"):jr.REJECTED===(null==v?void 0:v.instructor_apply_status)?(0,w.__)("Apply again","learning-management-system"):(0,w.__)("Apply for Instructor","learning-management-system"))),a().createElement(G.K,{direction:"column",className:"mto-profile-user-info"},x((0,w.__)("First Name","learning-management-system"),null==v?void 0:v.first_name,!0," first-name"),x((0,w.__)("Last Name","learning-management-system"),null==v?void 0:v.last_name,!1," last-name"),x((0,w.__)("Username","learning-management-system"),null==v?void 0:v.username,!0," username"),x((0,w.__)("Email","learning-management-system"),null==v?void 0:v.email,!1," email")),a().createElement(Y.X,{fontSize:"lg",px:"6"},(0,w.__)("Billing","learning-management-system")),a().createElement(G.K,{direction:"column"},x((0,w.__)("First Name","learning-management-system"),null==v||null===(t=v.billing)||void 0===t?void 0:t.first_name,!0," billing-first-name"),x((0,w.__)("Last Name","learning-management-system"),null==v||null===(n=v.billing)||void 0===n?void 0:n.last_name,!1," billing-last-name"),x((0,w.__)("Contact Number","learning-management-system"),null==v||null===(r=v.billing)||void 0===r?void 0:r.phone,!0," billing-phone"),x((0,w.__)("Country","learning-management-system"),null==v||null===(l=v.billing)||void 0===l?void 0:l.country_name,!1," billing-country"),x((0,w.__)("State","learning-management-system"),null==v||null===(i=v.billing)||void 0===i?void 0:i.state_name,!0," billing-state"),x((0,w.__)("City","learning-management-system"),null==v||null===(o=v.billing)||void 0===o?void 0:o.city,!1," billing-city"),x((0,w.__)("Zip Code","learning-management-system"),null==v||null===(s=v.billing)||void 0===s?void 0:s.postcode,!0," billing-zip"),x((0,w.__)("Address 1","learning-management-system"),null==v||null===(u=v.billing)||void 0===u?void 0:u.address_1,!1," billing-address-1"),x((0,w.__)("Address 2","learning-management-system"),null==v||null===(m=v.billing)||void 0===m?void 0:m.address_2,!0," billing-address-2"),x((0,w.__)("Company Name","learning-management-system"),null==v||null===(d=v.billing)||void 0===d?void 0:d.company_name,!1," billing-company-name"),x((0,w.__)("Company VAT Number","learning-management-system"),null==v||null===(g=v.billing)||void 0===g?void 0:g.company_id,!0," billing-company-id"))))):a().createElement(Gr,null)};const $r=function(){var e,t,n=a().useState(!1),l=(0,_.Z)(n,2),i=l[0],o=l[1];return(0,r.useEffect)((function(){var e;"true"===function(e){var t,n=k(document.cookie.split(";"));try{for(n.s();!(t=n.n()).done;){var r=t.value.split("="),a=(0,_.Z)(r,2),l=a[0],i=a[1];if(l.trim()===e)return decodeURIComponent(i)}}catch(e){n.e(e)}finally{n.f()}}("isFirstTimeAfterEmailVerification")&&(o(!0),e="isFirstTimeAfterEmailVerification",document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))}),[]),a().createElement(a().Fragment,null,i&&a().createElement(ue,{message:"Thank you! Your email has been verified successfully.",status:"success"}),"yes"===xe.isCurrentUserInstructor&&"no"===xe.isInstructorActive?a().createElement(ue,{message:"You need to be approved by the administrator before you can create courses.",status:"warning"}):null,a().createElement(H.xu,{bg:"white",sx:_n},a().createElement(pe.UT,null,a().createElement(me.W,{maxW:"container.xl",py:"16",px:{base:0,sm:"1rem"}},"yes"===xe.isCurrentUserStudent?a().createElement(de.k,{justify:"flex-end"},a().createElement(ge.aV,null,a().createElement(Dn,null))):null,a().createElement(G.K,{direction:"row",spacing:{base:2.5,sm:8},id:"masteriyo-account-container"},a().createElement(Mn,null),a().createElement(H.xu,{flex:"1",className:"mto-account-wrapper"},a().createElement(fe.Z5,null,a().createElement(fe.AW,{path:Zn.dashboard,element:a().createElement(yr,null)}),a().createElement(fe.AW,{path:Zn.groups,element:a().createElement(Wt,null)}),a().createElement(fe.AW,{path:Zn.courses,element:a().createElement(dr,null)}),a().createElement(fe.AW,{path:Zn.order.list,element:a().createElement(Tr,null)}),a().createElement(fe.AW,{path:Zn.order.view,element:a().createElement(_r,null)}),a().createElement(fe.AW,{path:Zn.user.profile,element:a().createElement(Yr,null)}),"yes"===xe.is_revenue_sharing_enabled&&"yes"===xe.isCurrentUserInstructor?a().createElement(fe.AW,{path:Zn.withdraw,element:a().createElement(yn,null)}):null,a().createElement(fe.AW,{path:Zn.user.edit,element:a().createElement(Jr,null)}),"no"===xe.isCurrentUserAdmin&&a().createElement(fe.AW,{path:Zn.user.sessionInformation,element:a().createElement(Qn,null)}),null!==(e=xe.gamipress)&&void 0!==e&&e.ui_placements?null===(t=xe.gamipress)||void 0===t?void 0:t.ui_placements.filter((function(e){return e.location===ke.NEW_TAB})).map((function(e){return a().createElement(fe.AW,{key:e.id,path:Pe(e),element:a().createElement(Ie,{placement:e})})})):null,a().createElement(fe.AW,{path:"*",element:a().createElement(fe.Fg,{to:Zn.dashboard})}))))))))};const ea=function(){var e=new c.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,useErrorBoundary:!0}}}),t=xe.settings.styling,n=(0,i.B1)({colors:{primary:oe(t.primary_color)}},ae);return(0,s.register)(E),a().createElement(o.x,{theme:n},a().createElement(J,null,a().createElement(ne,null,a().createElement(c.QueryClientProvider,{client:e},a().createElement(u.ReactQueryDevtools,{initialIsOpen:!1}),"yes"===xe.isUserEmailVerified?a().createElement($r,null):a().createElement(ue,{message:"You need to verify your email before access this page.",status:"warning"})))))};l.createRoot(document.getElementById("masteriyo-account-page")).render(a().createElement(ea,null))},99196:e=>{e.exports=window.React},91850:e=>{e.exports=window.ReactDOM},86989:e=>{e.exports=window.wp.apiFetch},9818:e=>{e.exports=window.wp.data},65736:e=>{e.exports=window.wp.i18n}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var l=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,e=[],r.O=(t,n,a,l)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,a,l]=e[u],o=!0,s=0;s<n.length;s++)(!1&l||i>=l)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(o=!1,l<i&&(i=l));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[n,a,l]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=809,(()=>{var e={809:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,l,[i,o,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(s)var u=s(r)}for(t&&t(n);c<i.length;c++)l=i[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(u)},n=self.webpackChunklearning_management_system=self.webpackChunklearning_management_system||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[697],(()=>r(55020)));a=r.O(a)})();